(this["webpackJsonpbotpenguin-messenger"]=this["webpackJsonpbotpenguin-messenger"]||[]).push([[0],{11:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var n=a(8);const i=e=>({type:n.u,payload:e}),o=e=>({type:n.l,payload:e})},115:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(8);const i=e=>({type:n.a,payload:e}),o=e=>({type:n.b,payload:e})},12:function(e,t,a){"use strict";(function(e){a.d(t,"j",(function(){return T})),a.d(t,"i",(function(){return x})),a.d(t,"g",(function(){return y})),a.d(t,"k",(function(){return m})),a.d(t,"m",(function(){return A})),a.d(t,"l",(function(){return g})),a.d(t,"b",(function(){return h})),a.d(t,"f",(function(){return v})),a.d(t,"h",(function(){return b})),a.d(t,"c",(function(){return f})),a.d(t,"n",(function(){return w})),a.d(t,"d",(function(){return C})),a.d(t,"e",(function(){return S})),a.d(t,"a",(function(){return I}));var n=a(4),i=a(330),o=a.n(i),s=a(117),r=a(210),l=a.n(r),c=a(21),d=a(3),u=a(115),p=a(772);function m(e,t,a,n,i){let o,s=60;switch(n=!0===n,i=!0===i,a){case"tenth":o=6,s=10;break;case"quarter":o=4,s=15;break;case"half":o=2,s=30;break;case"one":o=1,s=60;break;case"one-half":o=2/3,s=90;break;case"two":o=.5,s=120;break;case"three":o=1/3,s=180;break;case"four":o=1/4,s=240;break;default:o=1,s=60}let r=0,l=Array(Math.round(24*o)).fill(0).map((function(e){return r+=s,r}));return(e=!0===Array.isArray(e)&&e.length>0?e:[]).length>0&&(l=e.reduce((function(e,t){return e.filter((function(e){return!0===n?e<=t[0]:e<t[0]})).concat(e.filter((function(e){return!0===i?e>=t[1]:e>t[1]})))}),l)),!0===t?l.map((function(e){return function(e){const t=String(Math.trunc(e/60)),a=parseInt(t+"".length===1?"0"+t:t);return{num:e,time:(a>12?24===a?0:a-12:a)+":"+(e%60===0?"00":e%60)+"".concat(a>=12?" PM":" AM")}}(e)})).reduce((function(e,t){return e[""+t.num]=t.time,e}),{}):l}async function A(e){return new Promise(t=>{setTimeout(()=>{t()},1e3*e)})}const g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;setTimeout(()=>{try{let e=window.chatAreaRef.current.scrollHeight;for(let t=0;t<e;t++)document.querySelector("#chatArea").scrollTop=t}catch(e){}},e)};function h(){window.inputRef&&window.inputRef.current&&window.inputRef.current.focus()}function v(){const e=(new o.a).getResult();return{operatingSystem:e.os.name+" "+e.os.version,device:(e.device.type||"Desktop")+"(".concat((e.device.vendor||"")+" "+(e.device.model||""),")"),browser:e.browser.name+" "+e.browser.version}}async function b(){const e=new Headers;e.append("Content-Type","application/json"),e.append("Accept","application/json");const t={method:"GET",headers:e,redirect:"follow"};let a=localStorage.getItem("BotPenguin-location");try{if(a)return a=JSON.parse(a),new Promise(e=>e(a))}catch(n){console.log(n.message)}return new Promise((e,a)=>{fetch("https://api.botpenguin.com/meta/ip?via=messengerV1&uuid=".concat(localStorage.getItem("BotPenguin_User_uuid")),t).then(e=>e.json()).then(t=>{e(t),localStorage.setItem("BotPenguin-location",JSON.stringify(t))}).catch(a)})}const y=t=>{s.a.get(t,{responseType:"arraybuffer"}).then(t=>{const a=e.from(t.data).toString("base64"),n="data:application/font-woff2;base64,".concat(a),i=document.createElement("style");i.appendChild(document.createTextNode("\n          @font-face {\n            font-family: 'custom-font';\n            src: url(".concat(n,") format('woff2');\n            font-weight: normal;\n            font-style: normal;\n          }\n        "))),document.head.appendChild(i)}).catch(e=>{console.error("Font loading error:",e)})},f=e=>["app.botpenguin.com","www.app.botpenguin.com"].some(t=>((null===e||void 0===e?void 0:e.domains)||[]).includes(t))?l.a:(null===e||void 0===e?void 0:e.logo)||l.a,w=async e=>{try{var t,a,i,o,s,r;const{environment:l,attributes:c}=d.a.getState(),p={_user:l._user,requestId:(null===e||void 0===e?void 0:e.apiId)||"",uuid:l.uuid,payload:Object(n.a)({_flow:l._flow,_subscriber:l._chatWindowUser,_user:l._user,_bot:l._id},(null===l||void 0===l?void 0:l.selectedTags)&&{tagIds:l.selectedTags}),attributes:c.map(e=>{let{key:t,value:a}=e;return{key:t.replace(/{{|}}/g,""),value:a}})},m=await E(p),A=(null===m||void 0===m||null===(t=m.response)||void 0===t?void 0:t.status)||(null===m||void 0===m?void 0:m.status),g=O(m),h=(null===(a=e.options)||void 0===a||null===(i=a.find(e=>String(e.value)===String(A)))||void 0===i||null===(o=i.next)||void 0===o?void 0:o.target)||(null===e||void 0===e?void 0:e.options)&&(null===e||void 0===e||null===(s=e.options[0])||void 0===s||null===(r=s.next)||void 0===r?void 0:r.target);return g&&d.a.dispatch(Object(u.b)(g)),{nextQuestionId:h,response:m.data||{}}}catch(l){return console.log(l),""}},E=async e=>new Promise(t=>{Object(s.a)({url:"".concat("https://api.v7.botpenguin.com/","integrations/api-requests/trigger-api-request"),method:"POST",data:{binary:Object(c.c)(e)}}).then(e=>t(e)).catch(e=>t(e))}),O=e=>{var t,a,n,i,o;return(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.customAttributes)||(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.customAttributes)||(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.customAttributes)},C=e=>new Promise(t=>{Object(s.a)({url:"".concat("https://api.v7.botpenguin.com/","attributes/").concat(e),method:"GET"}).then(e=>{var a;return t((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)||[])}).catch(e=>t(e))}),S=async()=>{try{const e=await s.a.get("".concat("https://cdn.botpenguin.com","/json/countries.json"));return null===e||void 0===e?void 0:e.data}catch(e){return[]}};function I(e,t,a,n){const i=t.split("."),o=a.split("."),s=[];function r(e,t){let a=e;for(let n=0;n<t.length;n++){if(!a||!a.hasOwnProperty(t[n]))return"";a=a[t[n]]}return a}return function e(t){Array.isArray(t)?t.forEach(t=>{"object"!==typeof t||Array.isArray(t)||e(t)}):t&&"object"===typeof t&&(Object.keys(t).forEach(a=>{const n=t[a];"object"===typeof n&&e(n)}),function(e){const t=r(e,i),a=r(e,o);t&&a&&s.push({id:Object(p.a)(),type:"button",value:t,mappedValue:a,next:n})}(t))}(e),g(),s}const T=e=>new Promise((t,a)=>{const n=Object(c.c)({flowId:e.next.target});Object(s.a)({url:"".concat("https://api.v7.botpenguin.com/","get-website-flow"),method:"POST",data:{binary:n}}).then(e=>{var a;t((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)||[])}).catch(e=>a(e))}),x=e=>new Promise((t,a)=>{const n=Object(c.c)({_persona:e});Object(s.a)({url:"".concat("https://api.v7.botpenguin.com/","get-persona"),method:"POST",data:{binary:n}}).then(e=>{var a;t((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)||[])}).catch(e=>a(e))})}).call(this,a(25).Buffer)},160:function(e,t){e.exports="data:image/png;base64,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"},18:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"g",(function(){return s})),a.d(t,"h",(function(){return r})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return u}));var n=a(8);const i=e=>({type:n.q,payload:e}),o=e=>({type:n.n,payload:e}),s=e=>({type:n.w,payload:e}),r=e=>({type:n.z,payload:e}),l=e=>({type:n.r,payload:e}),c=e=>({type:n.i,payload:e}),d=e=>({type:n.h,payload:e}),u=e=>({type:n.s})},21:function(e,t,a){"use strict";a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return A})),a.d(t,"b",(function(){return g})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return v}));var n=a(4),i=a(36),o=a(3),s=a(18),r=a(85),l=a.n(r),c=a(97),d=a(11);const u=new i.a,p=e=>{const t=JSON.stringify(e);return l.a.AES.encrypt(t,"user-payload").toString()},m=async e=>new Promise(async t=>{const{environment:a,messages:i,flows:s}=o.a.getState();if(t(),!a.preview){var r;localStorage.getItem("__BotPenguinUser")||(localStorage.setItem("__BotPenguinUser",a._user),localStorage.setItem("__BotPenguin",a._id));let t=null!==(r=a.isUserInteracted)&&void 0!==r&&r,l=0;!t&&(i||[]).length&&(t=i.some(e=>"right"===e.position),o.a.dispatch(Object(d.b)({isUserInteracted:t})),t&&(l=i.filter(e=>"right"!==e.position).length)),await u.post("save-response",{binary:p(Object(n.a)({payload:e,_bot:a._id,_user:a._user,uuid:a.uuid,profile:a.profile,_flow:s[0]._id,isLiveChat:!!localStorage.getItem("agentId"),agentId:localStorage.getItem("agentId")||a._user,isUserInteracted:t},l&&{botMessageCount:l}))})}"bot"===e.messagedBy&&Object(c.c)(a.notificationSoundSettings)}),A=async e=>new Promise(async t=>{const{environment:a,meta:i}=o.a.getState();t(),a.preview||await u.put("update-meta",{binary:p({payload:Object(n.a)(Object(n.a)({},i),e),_bot:a._id,_user:a._user,uuid:a.uuid,profile:a.profile})})}),g=async()=>new Promise(async e=>{new Promise(async e=>{const{environment:t}=o.a.getState();if(e(),!t.preview){const e=t.installations||[];var a=window.location.origin;if(!e.find(e=>e.siteUrl===a)){const e=new i.a;await e.post("bot-installation",{binary:p({botId:localStorage.getItem("__BotPenguin"),_user:localStorage.getItem("__BotPenguinUser"),siteUrl:a})})}}})}),h=async e=>new Promise(async(t,a)=>{const{environment:i,messages:r}=o.a.getState();if(t(),!i.preview){await u.put("save-feedback",{binary:p({payload:Object(n.a)({},e),_bot:i._id,_user:i._user,uuid:i.uuid})});const t=r.find(t=>t.mid===e.mid);o.a.dispatch(Object(s.h)(Object(n.a)(Object(n.a)({},t),e)))}}),v=async(e,t,a,n)=>new Promise(async(i,o)=>{try{if("button"===(null===e||void 0===e?void 0:e.type)){var s,r,l,c,d,m,A,g;const i=null===e||void 0===e||null===(s=e.options)||void 0===s?void 0:s.find(e=>e.value===t),o={tagIds:null!==(r=null===i||void 0===i||null===(l=i.actionBasedChatResponse)||void 0===l?void 0:l.tagIds)&&void 0!==r?r:[],agentId:null!==(c=null===i||void 0===i||null===(d=i.actionBasedChatResponse)||void 0===d?void 0:d.agentId)&&void 0!==c?c:void 0,isSubscriber:null===(m=null===i||void 0===i||null===(A=i.actionBasedChatResponse)||void 0===A?void 0:A.isSubscriber)||void 0===m||m,searchQuery:{_userWebsite:a,_customer:n}};(null===i||void 0===i||null===(g=i.actionBasedChatResponse)||void 0===g?void 0:g.status)&&(o.status=i.actionBasedChatResponse.status);let h=p(o);await u.put("chat-response-actions",{binary:h})}i(!0)}catch(h){console.log(JSON.stringify({"Error in actionBasedOnChatResponse":h})),o(h)}})},210:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAABHNCSVQICAgIfAhkiAAAA01JREFUOE+NU11Ik1EYfs83p59bKjgUp4H0Y6b7PsV0Ca4fLShRCaJLdRoqJQsvpIv0orwpL1IU/LkxUakbiVZEY3WhUtaMEMttelP+lJh5oWvIIuc8p/csJ/MXD3yc75z3Oc/7vM95D4GNIUnSSyII534wdsrtcEwH9nebEXsTsW2M0gan03mfY8gmkSx/JYQc/+PxGKampmz7EaVK0j2FIDQgURsS1WwhiomJORQXF/fE4/G0TU9PD+xHpJPlxhBBmB8fH+9AHNtCxBdJSUnZYaL43OlwHElMTDwaFRVloADJQCnzMTbxc27OFhERsRyt0SzMzsxoV1ZWlgIJN0vb2BDltDQXMOYFQiL3UOVhjIVgsvCAmu2KQnQ63TNBobiyX1mBGGVseMLhuIBrXzAR0UnSU0EQrh2EJIBBc8xOu91/xl8ammcSCGnn/0gGKpWKeb1ewG9L6TymVCrZ6urq5v7y0lLR/Py8hcTHx6vQvEWFQqGuqKhgpSUlJDIykqytrbGOjg7W29cn8ARVVVW0vKyMiKIIbrcb2jFmNpsF9Osb+pVEZFkuRmOfcOAtk8l/aNMHSuHS5cssLDQULBbL9ouBB42NtL+/H7D3tATL+hiqVGa/e/uWqdXqHeC6+np6OCEBTNuS8GQ+nw+y9HrAxrxO8LpXNBqNenBgYAcJBzc3N9Pk5GQoKiraojaguqCwkKJHjzkR1Wq15LXV6o/x+ltaWqC2thbQK2hqaqIpqalQWFAgTE5OghVxPIbPyY+vrKykn0ZHLUSS5XVURIYGB/2Rnp4eQNOhtbUVym/UQHXPZ3YsRoS7V1NI3vmzYLPZABUAPic/UanRSO12+yuuaAFvLO7D+/csPDyc8LqHh4chJycHzFNh8GXxfxEXEwFOR/8GrorHAiM3L48tu1xt5KQk3VYKwsNHXV1Ur9fv8MGHj41XodjFQZ40MyuLt3YmDyuwvJEzBkNWZ2fnroYHt0TwP/pF79TVjTvsdj8RH2J6RsaLN1brpdjY2AORra+vQ35+/vexsbF0l8vlDj5EjEbjld7e3m4k1uylYmOfjYyMdBsMBhOuvXxvR/ahoSExNze3GGPV2P4ncFZt4P7i/AuvnfdJE86zwcn+AbM0Svi7AgU3AAAAAElFTkSuQmCC"},211:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAMAAAAMCGV4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUIyRTZFRDM0QTMwMTFFQUI5OTQ5MDZCODBCM0REM0QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUIyRTZFRDQ0QTMwMTFFQUI5OTQ5MDZCODBCM0REM0QiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QjJFNkVEMTRBMzAxMUVBQjk5NDkwNkI4MEIzREQzRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QjJFNkVEMjRBMzAxMUVBQjk5NDkwNkI4MEIzREQzRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PinQdFkAAACcUExURf39/cfHyJ+fn+/v756en8XFxmpqa/z8/GdnaImJicbGxl5eX1paW+np6aamp+fn5+vr6/v7++/v8NPT05mZmfDw8Hp6e/Hx8dbW1ry8vJaWlo2Njnh4eWRkZaGhorW1te7u7vPz84uLjMDAwJaWl3x8fOHh4dfX1+Xl5aCgoPT09Ghoaejo6IyMjcXFxXt7fIiIif7+/mJiY////8BgFx4AAAA0dFJOU////////////////////////////////////////////////////////////////////wBLVyJlAAAAn0lEQVR42mRPRw6DQBAbYOk9ENJ7Dyxb/P+/hYUDh/gwsmXJYxMA1fM2aXmvBk5AKjRzK5dpkRrdtdKBgSPbDqQekjCBpFDU6yWKfFB5gYV2KWRAVg+6zgDGKbAA38d0LI+SF2asY+O/76uBX7ZP44c2vs3hczoG+zNsPuaXt524bsoxX4lw/t+ov35AJ7QdVZGtRTfuMfu82Jv2/QQYAB1bIAATFUqzAAAAAElFTkSuQmCC"},3:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(164),i=a(4);var o=a(8);var s,r,l=a(42);const c=parseInt(localStorage.getItem("tabCount")||"0");let d="forever"===(null===(s=window.parent.BotPenguinData.configuration)||void 0===s||null===(r=s.generalSettings)||void 0===r?void 0:r.userChatRetention)||c?localStorage.getItem("BotPenguin-".concat(window.parent.BotPenguinData._id)):sessionStorage.getItem("BotPenguin-".concat(window.parent.BotPenguinData._id));if(d)try{d=JSON.parse(d).environment||void 0}catch(R){d=void 0}var u,p;const m=["IMAGE","VIDEO","CONTACT","PRODUCT","NEW_NOTIFICATION","LIVE_CHAT_NOTIFICATION","LIVE_CHAT_ACCEPTED"],A=parseInt(localStorage.getItem("tabCount")||"0");let g=[],h="forever"===(null===(u=window.parent.BotPenguinData.configuration)||void 0===u||null===(p=u.generalSettings)||void 0===p?void 0:p.userChatRetention)||A?localStorage.getItem("BotPenguin-".concat(window.parent.BotPenguinData._id)):sessionStorage.getItem("BotPenguin-".concat(window.parent.BotPenguinData._id));if(h){var v,b;try{h=JSON.parse(h).messages||[]}catch(R){h=[]}const e=(null===(v=window.parent.BotPenguinData.configuration)||void 0===v||null===(b=v.chatMenu)||void 0===b?void 0:b.clearChatOnReload)||!1,t=sessionStorage.getItem("clearChatOnBrowserReload");g=e&&t?[]:h,sessionStorage.setItem("clearChatOnBrowserReload","true")}var y,f;const w=parseInt(localStorage.getItem("tabCount")||"0");let E="forever"===(null===(y=window.parent.BotPenguinData.configuration)||void 0===y||null===(f=y.generalSettings)||void 0===f?void 0:f.userChatRetention)||w?localStorage.getItem("BotPenguin-".concat(window.parent.BotPenguinData._id)):sessionStorage.getItem("BotPenguin-".concat(window.parent.BotPenguinData._id));if(E)try{E=JSON.parse(E).text||{status:!1,value:"",original:""}}catch(R){E={status:!1,value:"",original:""}}var O,C,S;const I={aiReplies:0,isKeyActive:!1,threadId:(null===(O=window.parent.BotPenguinData)||void 0===O?void 0:O.threadId)||"",messages:null===(C=window.parent.BotPenguinData)||void 0===C||null===(S=C.ai)||void 0===S?void 0:S.messages,persona:{}},T={dates:[],datesSent:0,acuityTypes:[],acuityTypeCount:0,slots:[],slotsSent:0,selectedValues:{date:"",slot:"",acuityAppointmentId:""},lastQuestionSent:{},isActive:!1},x={sessionClose:!1},j=Object(n.a)({design:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.a)(Object(i.a)({},window.parent.BotPenguinData.design),{},{name:window.parent.BotPenguinData.name});return e},flows:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===o.m||t.type===o.v?t.payload:e},configuration:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.parent.BotPenguinData.configuration;return e},environment:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d||{_id:window.parent.BotPenguinData._id,_user:window.parent.BotPenguinData._user,_agency:window.parent.BotPenguinData._agency,activeQuestion:null,activeFlow:window.parent.BotPenguinData.flows[0].id,preview:window.parent.BotPenguinData.preview||!1,embedded:window.parent.BotPenguinData.embedded||!1,refresh:!0,typing:!1,pause:!1,activeQuestionType:"statement",skip:!1,back:!1,dateTime:!1,uuid:window.parent.BotPenguinData.uuid,lastQuestion:"",profile:window.parent.BotPenguinData.profile||"",plan:window.parent.BotPenguinData.plan||"",liveChat:!1,isLanding:window.parent.BotPenguinData.isLanding,whitelabel:window.parent.BotPenguinData.whitelabel||{},chatRequestAccepted:!1,chatRequestRejected:!1,_chatWindowUser:window.parent.BotPenguinData._chatWindowUser,agentId:void 0,socketDisconnected:!1,installations:window.parent.BotPenguinData.installations||[],agencyData:window.parent.BotPenguinData.agency||{},chatMenu:window.parent.BotPenguinData.configuration.chatMenu,_flow:window.parent.BotPenguinData.flows[0]._id,customAttributesList:[],countries:[],dialCode:void 0,phoneNumberMaxLength:void 0,notificationSoundSettings:window.parent.BotPenguinData.configuration.generalSettings.notificationSound||{},selectedTags:[],direction:"",isUserInteracted:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.u:{const a=Object(i.a)(Object(i.a)({},e),t.payload);return l.a.postMessage({action:o.l,payload:a}),a}case o.l:return t.payload;default:return e}},messages:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g||[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.q:{const a=[...e,Object(i.a)({},t.payload)];return l.a.postMessage({action:o.n,payload:a}),[...e,Object(i.a)({},t.payload)]}case o.w:{const t=[...e.map(e=>(m.includes(e.type.toUpperCase())||(e.type="STATEMENT",e.back=!1,e.skip=!1),e))];return l.a.postMessage({action:o.n,payload:t}),t}case o.z:{const a=[...e.map(e=>e.mid===t.payload.mid?t.payload:e)];return l.a.postMessage({action:o.n,payload:a}),a}case o.r:{let a=[...e,{label:t.payload.label,type:"NEW_NOTIFICATION"}];return l.a.postMessage({action:o.n,payload:a}),a}case o.i:{let a=[...e,Object(i.a)(Object(i.a)({},t.payload),{},{type:"LIVE_CHAT_NOTIFICATION"})];return l.a.postMessage({action:o.n,payload:a}),a}case o.h:{let a=[...e,Object(i.a)(Object(i.a)({},t.payload),{},{type:"LIVE_CHAT_ACCEPTED"})];return l.a.postMessage({action:o.n,payload:a}),a}case o.n:return[...t.payload];case o.s:return[];default:return e}},agents:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},text:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E||{status:!1,value:"",original:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.A:{const a=Object(i.a)(Object(i.a)(Object(i.a)({},e),t.payload),{},{original:t.payload.original||t.payload.value||""});return l.a.postMessage({action:o.p,payload:a}),a}case o.p:return t.payload;default:return e}},meta:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===o.x?Object(i.a)(Object(i.a)({},e),t.payload):e},ai:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;if(t.type===o.e){const a=Object(i.a)(Object(i.a)({},e),{},{aiReplies:t.payload.aiReplies});return l.a.postMessage({action:o.j,payload:a}),a}if(t.type===o.d){const t=Object(i.a)(Object(i.a)({},e),{},{isKeyActive:!0});return l.a.postMessage({action:o.j,payload:t}),t}if(t.type===o.c){return Object(i.a)(Object(i.a)({},e),t.payload)}if(t.type===o.f){const a=Object(i.a)(Object(i.a)({},e),{},{threadId:t.payload.threadId});return l.a.postMessage({action:o.j,payload:a}),a}return t.type===o.j?t.payload:e},common:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.g:return Object(i.a)(Object(i.a)({},e),t.payload);default:return e}},appointmentMeta:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;if(t.type===o.t){const a=Object(i.a)(Object(i.a)({},e),t.payload);return l.a.postMessage({action:o.k,payload:a}),a}return t.type===o.k?t.payload:e},attributes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t.type===o.a)return[...e.filter(e=>e.key!==t.payload.key),Object(i.a)({},t.payload)];if(t.type===o.b){return[...e.filter(e=>!(t.payload||[]).some(t=>t.key===e.key)),...t.payload]}return e},redirectFlows:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===o.y?t.payload:e},revisitFlow:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===o.o?t.payload:e}}),N=Object(n.b)(j,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());N.subscribe(()=>{window.parent.BotPenguinData.preview||(sessionStorage.setItem("BotPenguin-".concat(window.parent.BotPenguinData._id),JSON.stringify(N.getState())),localStorage.setItem("BotPenguin-".concat(window.parent.BotPenguinData._id),JSON.stringify(N.getState())))})},328:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABHNCSVQICAgIfAhkiAAAAZ1JREFUOE+NVEFSwlAMTX7VLYzVtXoBaU8g3gBPAGyBBZ5Ab0CdAbbWG3CEegIoF5CutU5dQ39Iaou1UODP/Jn+/35ekpekCIU17VeraqWaSNggAIvhKu+ICDxU5OkT/WY7UZSZ+V3TxTzHvGO2CGGQGhb5s3OECO3bYTgRAr5sbkj83sUzED2lLwMAcjSqWWapSHNU2OfzldyxoceR1tNvgDSC18SA4KU2DuXx1kpSXRqOeM+DmAIfSQp7CPIabJH43XP2iqJDUBuF12VCyH2mQfEN+j3T4wjuOI/H2uhbQt25yggSTRiUclU04r09/PJ2atG5tJSiRpkDIWGRATQp2x5/bqqxL63tdI6I5BDh0ZoUiaacokFUiWkVcDqb6iy4OjeHvAqebwskaGd9shBxj+mTQqkDfRpbSdvnO5ZVdq1R2N5ZJe5YXBoDNmolpUV4kBkqm50FIDkYq1lsABoxT5UCLjGJsUw1wzyE49BNvvMe5z2zwSMvQGWPNj8cQUsiyN78I/kTTbFHrPNZ9i8hwjtqcOOzeJL/nwi0BqOguRucLCYvAAAAAElFTkSuQmCC"},329:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAoCAYAAAB0HkOaAAAABHNCSVQICAgIfAhkiAAAA1JJREFUWEfVWN1x2kAQvhUirxE0EFxBcAUmFQRXYFxB7AB5NX6NIbYrCFQQUkFwBSEVRGkAxGuQdPlWSFgISXdSyMS+GY2Hudu973a//TOJEsu6lQ3h+2ckZQviTXwWPgffXBLNhGFMnEuyi6qmIgIAYRmedyuF6KjkoHjsVyqXAMUgtZY2GOvj7yYZxhdobWhp3hyype+fOh9ezHVktMCwW8jzvofu0NEbP+PISuVYx21aYGpDBiKZGyUXzZe9yrFKWAnGGrkdkuKzSpFqX5I4d7rmOO+cEkxt6P4syJOM+9TWyQUTcoXBHGSBO0d53MkHM3TbOMARdJCFlHDq9MxplrJcMPWb9QBJ7OogSKAESfJ60a8Onj8Y6ym56UkRmH2L0Lbx59Xf84Z+IPHlJk5lnnlSSW9jHQ+FTr4ubx21VVi30jJ8KOQOV96XJQCtkOyaByuUAaBNC8EJqwh/fqGFaB+0hYisETZXd8ikZyoLweQTNFcX/6S5il8etJ2uj1Ih23A0Rwi7byUk2k5BU2EaUx23JB+kxRmVFQ61/7zAWJ/WJ8KnBqrtJM4dTAfvMi1iGPdxrqCsnAlD2s776kOeFVMtw5zAFHAForY5kFiBlPKN06/OImW1kTsFR97uKSfxddk1WS5Y1s26RUTfwp8OLpyC2NdpnNoDUx+tb6Wkiz1yJcp/Vt1KNlBZbQiRvFt0q5fxe7ZgOGwxAXAj1Uo1pRQPy765s5e8KK1fqd24M0TcSYZ7ZgB/Grl0CwYFkYFszZsmvOyZO5YMH2BHoQ3FjWRegV54O3vxsLfomed8IlCuWwyTvGHZWMNuA+xR/NoEXzIRRZMDha/jpjsgau4rFLzR5UvKHTYPeqRrlUBBgjdJ2eRspODLDiaWpcwQzTBRnDf1oTuO1ymuR/B/JxJV8SV+BctS0dE1zpt92cdBTZcvj4BoDjD5bE8aKArfkGvL5D58X+OIKjPmFAYT8SZrcogGtSJ8iR5UHAwkmTf14Rp9De3VJ7QV94te9aKoxYM8U0aIeUOCBqmZFREnhRzE6pEqY2z3S4Fh3uSNvar9DHSrwqGt/cyiB1HtKWy0+V9k/3WhcT/e1Cbu/CvGAJHSws8y40jZh6zAu5n0/AFPEH8AHSbGeQeuWwkAAAAASUVORK5CYII="},332:function(e,t,a){e.exports=a.p+"static/media/long-pop.5851fb3a.wav"},333:function(e,t,a){e.exports=a.p+"static/media/bottle.ff27d813.mp3"},334:function(e,t,a){e.exports=a.p+"static/media/mouth-pops-ascending-louder-the-foundation.f7a4f519.mp3"},335:function(e,t,a){e.exports=a.p+"static/media/selection-sounds.46facdd1.mp3"},336:function(e,t,a){e.exports=a.p+"static/media/tap-notification.27152af4.mp3"},337:function(e,t,a){e.exports=a.p+"static/media/ui-pop-up.318726ca.mp3"},338:function(e,t,a){e.exports=a.p+"static/media/achievement-bell.14a5bc11.wav"},339:function(e,t,a){e.exports=a.p+"static/media/beep.26dd5f48.mp3"},340:function(e,t,a){e.exports=a.p+"static/media/computerwav.db0cc1a1.mp3"},341:function(e,t,a){e.exports=a.p+"static/media/correct-answer-tone.feb29173.wav"},342:function(e,t,a){e.exports=a.p+"static/media/multi-pop.c097da39.mp3"},343:function(e,t,a){e.exports=a.p+"static/media/software-interface-start.8646c43b.wav"},347:function(e,t,a){e.exports=a.p+"static/media/typing.fb749a2f.gif"},354:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAIrAAACKwFlZdt/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAPlQTFRF////gICATU2ZRl2LQFWVQGCPQ16UQ1mQSFiPSFyQRFeVSFmWSFeVRliUR1iSSVmSRVeSR1mVRlmTSFiUSFqSR1mTRliSSFqTR1mURliTSFqUSFmSR1iTRlqSSFmTR1iUR1qSRlmUSFqTR1mUR1mSSFmSR1qSRlmTR1mURliTR1mTR1iSRlmUSFmTR1qSR1mTR1iSR1mTSFmUR1iTR1mTRlmTR1qTR1mSR1mTRlmTSFiTR1mTR1mTR1qSR1mTR1mTR1mTR1mTRlmTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1qTR1mTR1mTR1mTR1mTR1mTR1mTR1mTOawuxgAAAFJ0Uk5TAAIKCwwQExcgJykuNTc9P0ZIUFFSU1RVVldYWVpbXF1eX2Nwc3V6e35/kJaYoKKqsLGys7S1tre6wMTGycrV2tzg5OXn6O3v8PP09ff4+fv9/oXEwrIAAAF5SURBVFjD7ddXU4NAFAXgizEqxqixRCyR2BUL1qiLJkbFBkTh//8YSXHRyVx2lzs6kxnP+/mShwX2AMTRDIt5kVI8Zhka9KI7UaY4erdv+lHG+Gbn9zP3YyH+D5oTEeJoYESkGGDRAAsYDWDg0QAPImL+Cgjr9l55PN/JREMZCO0CfMuOKvBUgh/ZUAQexoAEBEWgAbtAA17yRMDq68OWElDq64/cqgCtoaQ5deTcu67bUjqJd0l/M8xylG94f/g507NQ40Ax28N0zIEZKrD0D6gDH0E7NgcWgl7e5YDrUUCS25cC1gBNQQpYxoFJKWAFBypSQAUHtqWAVRw4kAJMHKhJAVUcqEsB6zjwKgVc5bB+VfIovzXbOeS96WY3j2oP0yX1jUQGkpfq7KACFxyYG1TgnAPzgwqccaD8W4Dgun+afFiQ6z6jAUw0eUSAJRpdJxwwkNElmH0CIJ59guGZDvi6cPom94NFbPqmj+804Gt8p85/DODz/xPnIBKLrab23gAAAABJRU5ErkJggg=="},355:function(e,t){e.exports="data:image/png;base64,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"},356:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCw4HESpGJnntAAAEaUlEQVRo3sWZXWxURRTHf3vbbTb9gF1KCRAFBcSoq5VqPwSMVqIYVDQoPqKxsfpG0ESSBk0MUSEpPqAmgDwU8Ul9EQNGqsEECDFNS1WIqUCLtKFEIEWx9mO3Oz5s2927d8792J3GMy+bOR///8y9e+bcMyHylxhRZgN/cYOhfIOEAtovpIEaaljB/BzNIN100cUpBgtYlItUsol2JlAeY4ITbGaBWfA6viHpCZ09khyi1gx4NV+QCgSeGe3UFQYe47M8oTPjALF84Z+kv2B4hWKQ54KDl/CpEfCpsZdwEPgKvjUKr1D8wGy/8As5bRxeofiVRX7gF9A3I/AKRa8jfWk2v2vG4BWKTsrd4Iv4ekbhFYojFMsEWh3mo4wWBHdT479Tgl/lyPQjlFPESt7nSmDoC7RwPyEqSeRokqzUwZfyuyPI4WlthGaNXhrdrMea9j3m0PdQOqXMPI/t3OEg1T79a5R97GcTrVSS4Awd9DHEEENAjBgxbqeWOGGu8xZtpLKiHOXRnLjL2c6b9qnFjGlW8oyDUhUNRMR3KEIDVY7Z5zWRx1hsN9qr3coaTEidNvaebJNF2vUrHjZCoFEbe5zbgMlXZSslWtd5RghUaWfDvJH5eU14mz8yQuATIfpVitM7sIZKwTVuhMDdwvxcGtM/2gSG/3CPEQJ38reAsB8gxHVB3WwEHuA1AeEaIVguKM+7HRoBJcwFAWWpxQrBqZWkMQIJdgmaGosHBNVhTMohmcB9WkUP/UYJDHBOO19tCWmi1yi8HHGuJdSqfxonoI8YlQgkjBMYC0YgapyA/gMtaqH+VwITFv9qFWbOQe+II3BJm6ESlBmFL3OUpulx0WJA61DMg0YJ1AqJvd8SE06jUQKPCPMDFr8JqlcoMgZv8bKgOWvRJahuZa0xAmvT9Z9GTsN8sQP0S7CmgihhfhYQUumDoFv8wtlmhMA2MX5n2mCHaDAhPjv/8qpLb/G9tEm1aKBI0lLAyxjmXdcW371Tht0uRopT1OcFv5pO17idGdPmrOnveJaNfJ7TGT3KBpdvwlwp5UV+dAVXKJpgqlkdoW+6e3OOVVwFaviSJbawNznBT5zlPGe09WKYOMuIU89qH4n8Mkuyj+gtWcwu8TgA8+jVMm8TeuwWX3muOjM2251LbO2HcZ4AoJ5xh+MVKsRVRRnyCd/jzDFP2wwuTxYqbztcP3Dd2A99Elincz5gM/kYgCJ257iucSXwlC/4NmkDs2uDcW6ZnF/PcYYZpZ92Xvf4LyzzAf+HXG/V2ZpquwkuMU/4EfeLjCab6UOBCZR5wKe8k/s7WeY32GCYQIufILtsLifZwmPcxRwqWUqjx8ngTmCnH3iArS5B3HOcG4EdQbaySewRV7j6SQRGeCngw6SOi9pQs/Ig0JffFd4s9mlO82hAAin2eOyaq9RzMifgnEAEOgpvdobYaCss3G8BI1l71sELge+mRWnkIMMojntafo9imIOODrkBKSfuoz4sIu5+L2SX/wBrbWUHAqRUMwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMS0xNFQwNzoxNzo0MiswMDowMHj0/OcAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTEtMTRUMDc6MTc6NDIrMDA6MDAJqURbAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},357:function(e,t){e.exports="data:image/png;base64,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"},358:function(e,t){e.exports="data:image/png;base64,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"},359:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAJSAAACUgG3tUXJAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWJQTFRF////AAD/AICAAFWqAIC/AGbMAICqAG22AHS5AHaxAHe7AHCvAHm8AHuzAHa2AHu5AHO1AHi0AHi4AHa3AHm5AHa0AHm2AHe4AHW1AHi2AHi5AHa1AHa4AHm2AHe3AHW2AHi3AHa4AHi2AHi4AHa5AHi2AHe3AHe4AHW5AHe2AHi3AHa3AHa2AHi3AHe3AHa4AHa4AHa3AHi4AHi3AHa4AHe2AHe2AHi3AHe4AHe3AHe4AHe3AHa3AHi3AHe4AHi4AHe3AHa3AHa2AHe3AHe4AHe2AHe3AHi2AHe3AHe2AHe4AHi3AHe3AHe3AHe3AHe4AHe3AHe3AHa3AHe3AHe3AHe3AHe4AHe3AHe3AHe4AHe3AHe3AHe3AHe3AHe3AHa2AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe2AHe3AHe3AHe3AHe3AHe4AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3bzc4tgAAAHV0Uk5TAAECAwQFBgcLDQ8QExscHR8iJCcoKSovMDEzNDY7PD9AQUJERUZHS0xNUVJUWVxdYWNkZmxtdHV2eHp8f4CBhIeKjI6PkJKTnJ6hoqmtrq+ytLe4u7zBw8XIycrM0NLT1djb3d7l5+jp6uvt7/P2+Pn6/P3+teHXlAAAAb5JREFUWMPt1+k3QkEUAPBbKiVrhOwhu+xFJPuSXc8SEUKkkvT+f/WqN9PinDdz+db9dmfm/jqnufPeGwDQOYWoyBFRwamDdJiDIncEzenfR9SnBR04RVQ4QcABAkRxQBREZNBAcGmg3uoI8ALJNWlXQbP8xQfMQz7sXMCFSgbgiAfoJPVg4gA+tRQAH+xAgK5n6a488FgA+NmBbwNVr4lz/InDFNDNswshvVyvu+dqpH11rl61xXkWrk1SfYPAfZjiPo999SzGfxrRxxkJJE/c2TjMHudL94oUGy9Sqx9P97cYaizjjvPUL8C6vI2uTHojp80pMbFoJF3SupcoC1jlFZZMuk0qwqGOgkaHwXg5oE+eby8CHpqgKHpjTIAFSmKOCSgT6jskAENYoCqCBMDLBvR4Ak+nY/TIJBPgyi7ZpYbaWICZ/HOPevbrGQDte36Nn3r7vCkHJkjjNpLRZ+WAlwA2qsGVA9QLf6FkVAnwSgA3Gb1SDoTLAgIW8FWAClAB/gmYkqdGM+mBnFZTHz07BLgtBoI9xmx0SVOxkVxat0l9DURsudHa2T/7xEFfutDXPvTFE331RV++sdf/H53Z+kPOrzsYAAAAAElFTkSuQmCC"},36:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(331),i=a.n(n);class o{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.v7.botpenguin.com/";this.http=async function(t,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((o,s)=>{i()(e.host+t,{method:a,body:n,json:!0,withCredentials:!0},(e,t,a)=>{e?s(e):200===t.statusCode||201===t.statusCode||202===t.statusCode?o(a):s(a)})})},this.get=async e=>this.http(e),this.post=async(e,t)=>this.http(e,"POST",t),this.put=async(e,t)=>this.http(e,"PUT",t),this.upload=async e=>new Promise(async(t,a)=>{try{const a=await fetch(this.host+"upload",{body:e,method:"POST"});t(await a.json())}catch(n){a(n)}}),this.host=t}}},360:function(e,t){e.exports="data:image/png;base64,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"},361:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCw4HEicTulaTAAAENUlEQVRo3sWZb2hVZRzHP/feNTE3UyQd6VaK2F6k3lRWgTGqNUvnMhySEohKUugLIRXDF72SkoS0Zmqj0BfRCytQgtycK0NlixkTN2EkRi5DE0u9w+nUPb043nOf+5znPOec5/7p93tzeX6/8/t+7nn+neecBLlaGQO8QpKxXGEo52oWlkQ88Pt08x5PFBugyQVwfITjLCVePIAtCoDj53mLkuIA7NMCCAR9NBQDIMEMmthJrxbiIBOjFqzjO3ppZxWJiFdWsZkzHoSrLAlfIsZH0qVtjLW4I7UcZkQZlh+E+zMxPlXouxlvgQBz6VAqHaEsWL5Z04e2CNDE5axKXUwwy+/2Gcv2CBM4qMyKR/1S43zuO5kEp6zGgmNrGZYq9TBOn7bHIB+EUBEwwOpJSZXadcvTxgB5geAk5T4CbaToYBtJX4RnuCZV+lgNV3IrBIA/wgU3o5PVjNbmzOOmVGl5dvD9UPICwU+UekqXci8rZ4AmLcIL3HFz/mWKHDoVGkCwzVP4SU3WISZrEN6WMo4SywSuRgC4wSilbI0y2x3/kzkahP1SxhuZ5lQEAEG1pvBU1nju4yCvefLGcF7qqofTzYMR5Ef8lxJmcTgr955mM35Jim9ON16KAHAMsy3mopSd0kzNb9zo5fSM+Tm0fIqnCLJJdGaNhUlKfJo0G95xmlpCyg9RHygPMJpD0lVfeeJfuLFep2FlKPnbLAol7yDIQ/JlJVrNfTdWA1AVQv6Wp0xQR2RGVr9nrzjqxnY7DacD5esiyQMsk65fosRWuJFLzoK0KaDvo8sD/OBWaPd0UWb3mQ3wWNaerXqLlTzMl1aPGUrseze2MQ78xbeGQs/K63YEO8HpB79iLFBiR6TqADxn7IRGy3vwrltB/YPz3MjFdNMvBoA+HrICmONWGFAipXSyn028SlW66U3jPdhgBRDnAFt5nelhTgUJzhpnwmzLbohgi4z3oC+zfRbOOowIewsPkJRWaZ2vKzzCXiPAXRYWGqCc340IKZ4uNMKLytFa9b+ZWWiEoGNawRHKOBeAcCUUQiUzbaduddZBSufXAx7PauhCIBhku+ckEcqWBowEwd30I6XGGhmSMo/7HmuNtj0AQCDYoz2KNkrPvY6fsEFISA8N/n6Oucp1iz3yAtPh3mBjjFt02ofZKvVyg1beQbB4yzKR30IgCP5gDSVAA7cNWVYIVQErY8b7OeD774uEEMatXndNkw7V/xNCBT15RGiz+ZYwjvY8IqyMDgAl2he5dt5qAwCwNmuJtfcztgCQpD8PAF/bA0A5X+YoP8LzuQAALGQgB4APc5UHeIRm5Q1pWP/E8qirsWpaI8vvyJd42ur4NYL8rnzLA8RZbjxVZvyz/N181WIsoDXgVLWz8B9zK9mi+WooENxgvYk+v1ZBLfOZzuNM5Q7D9PAj+/jH/4L/ANEjEcKZlUihAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTExLTE0VDA3OjE4OjM5KzAwOjAwgT36iQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMS0xNFQwNzoxODozOSswMDowMPBgQjUAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},362:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAIpAAACKQEamxj2AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAgRQTFRF////AP//gID/Var/gL//Zpn/bbbbgJ/fcarjgLPmdKLogKrqdrHrbaTtd6rucK/veKXwcarxc6bmearndK7oeq3rdqfrcarsdq3tcqftd6ruc63mdKrodajpeKrqdazqeajrdqrrc6rtd6bndKjodKbpd6jpdqfrdqrsdKfodqjod6fpdanpd6rqdafqd6nqdarreKfrdqnrdqfodKnpdqrpdajpd6npdarqd6jqd6rrd6nrdKrpdqjpdanpdqrqdarqd6npdajpdqnqdqjqdanqdqrqdqrrdqnpd6rpdqrqdajqdqnqdarqdqjrdanrdqnrd6npdqrpd6npdqnqd6rqdanqdqrqdarrd6nqdajqdqnqdanrdqnpd6npd6jqdqnqd6nqdqjqdanqdajrdanpdqnpdqjqd6nqdqnqdqnqd6nqdqjrdanrdqnpdqnpdqnqd6rqd6nqdarrdqrqdqnqdqnqdanpdqnqdqnqdqrqdqnqdqnqdqrqd6rrdqrqdqnqdqrqdqnqdqrqdqnqdqrrd6npdajqdqnqdqnqdqjqdqnqdqnqdqjqdqnqdqnqdqjrdqnqd6nqdqnqdqnqdqnqdqnqdqnqdqnqdqnqdqnpdqnqdqnqdqnqd6nqdqnqdqnqdqnqdqnqdqnqdqnqdqnpdqnqdqnqdqnqdqnqdqnqdqnqPSU15AAAAKt0Uk5TAAECAwQFBwgJCgsMDQ4PEBESFBUWGRobHB0eHyEjJCUmJyorLC4vNDY3ODo7PD0+P0BBQ0RFRkdISUtNUVJTVFdcXl9hYmNmaGlsbW5vcHFzdHV2d3h6e36Fh4iJjI6QkZKTlJaYmpydnqChoqOkpqeqrLC2t7q9vsDCw8TFyMvMztDR09TV19jZ2tvc3d7f4OLk5ebn6err7O3u7/Dx8vP19vf4+fr7/P3+DcoycQAAAkNJREFUGBntwesjU3EABuB3toklSkWkFFKuoZRQ6aKUSpEUWonWTbpfpVqlGyO6bN2tMrP3n8yY2c7O7+yc88Enz4MF8ycmY0dDZ3PFSuiT0TnGGc47OQgqajXDL8ECRctvejlnwroE00oe0pMMv+fDq6EgZ4jhPu0xIvPUC5JX4ZdPDqdDqPw3I4z208+XDb9ukkNpEEj/QaEe+MX95RRHGmQZH1PIHm/avgXI4rTBVZDTQCHXvosu2oFKzviwGZEMDgr5SI5vAuoZ4DsfD6kyKjsIoJFBA0WQuEZFlzBlL+dMWuMQ5gmVdBsxZRtDOY4mIUQ/FXQZ4JfoYRj35Y0IGqVYBwLuU+pZrQUzxij0bTEC9jOS91X3sZJEmClmxSzTW8rzDfZR7DCCqqnHbgSklhk7qUMxAs7xY/sAtctEQCP1SUBANXVxY9YG6vIasxb9pB4dCGqjHpUIShmnduMWzLlC7R4gxLJ31KwJoda6qFUuwhT8oTYvIbGul5rUQCI54/gY1XsfAwkn6aV6ByB1nVqMmCGV5aMGRxDpNtUbiUOkNS6q5S2GnDw3VToNeVVeqvIoBgKFb6jC11QIxZ6ZYFRVUJJSd/cfFTUjihU9VDBZB2WxTb+owFMDRevbP1OJuwJi8aUtfVT2vQByMlvbum7cs3sYzdNsyLJTFWetAfJ2uhid90IShCxNTkbRmwtFlhPDFHPZtiK6POso5bhs5SaoYyg8ecvBEL4vdlu5CdosLa051HLW1la/Kz/djAXz5T9NSp82ZyDGfwAAAABJRU5ErkJggg=="},363:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHsAAAB7AHenRA+AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAANVQTFRF/////wAA/wAA/yQA/xwA/xoa/xUV/xQU7iIR8B4P8hsN8hoN8xgM9R8K9hwJ+BwO9BwL9RoK9hsO9xsM9xsL+BoL9B0O9R0N9R0N9hwM9xwO9hwO9hsO9hwN9hwN9xsN9x0M9xwM9RwO9RsO9RsO9hwN9h0M9hwM9hwM9hsO9xwN9R0N9hwM9hsO9h0N9xwN9hwN9hwN9hwN9hwO9xwN9hwM9hwO9hwN9hwN9hsN9hwN9hwN9hwN9hwN9xwN9hwN9hwN9hwN9hwN9hwN9hwN9hwN9hwNteEEegAAAEZ0Uk5TAAEEBwkKDA0PERMUFRkbJC0xOEFDREdPUFJcbnF1d3l8f4CDhIePkpOVm6CmqLK1vsbKztTh4ubn6Onr7e/w8vT4+fr8/l/yfKQAAAEaSURBVFjD7ZbbTsJAFEWXrdp6pSAX8YKiKChVRCyCikCL8/+f5IMxhpgmQzePXa/NWWlmzpyzISdnrXj1Rjt8sCBsN+rev/Jib25WYN4rLpU7zcSsSNJ0/uqDgcnAIPitL8cmE3H5p94fmowMfQC6JjNdgJoRqIE7VgRjl6qRqNLRBB36mqBPpAkiUnp4NLLsaFI+VNzTVytDmqAEm2dvmgC2zt81AWxffGgC8C4nmgD8q09NADutqSaA3ZuZJoD9O1HAQSwJ9q4nyh8c3s6UQyzcx8o1BuFCaaTS45fSypUn5TFtHD8Lz/nIOXmxGygpIy2ynJWJPlTlsS4vFnm1yctVXu96wNAjjhyy9JinB0096q4hbOfkSHwD5z+4GDSHw58AAAAASUVORK5CYII="},364:function(e,t){e.exports="data:image/png;base64,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"},365:function(e,t){e.exports="data:image/png;base64,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"},366:function(e,t){e.exports="data:image/png;base64,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"},388:function(e,t,a){e.exports=a(389)},389:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(22),s=a.n(o),r=(a(394),a(42)),l=a(26),c=a(3),d=a(11);const u=["ar","fa","he","ur"],p=()=>{const e=Object(l.c)(e=>{var t,a;return null===e||void 0===e||null===(t=e.configuration)||void 0===t||null===(a=t.generalSettings)||void 0===a?void 0:a.language}),[t,a]=Object(n.useState)("ltr");return Object(n.useEffect)(()=>{a((()=>{const t=u.includes(e)?"rtl":"ltr";return c.a.dispatch(Object(d.b)({direction:t})),t})())},[e]),i.a.createElement("div",{dir:t},i.a.createElement(r.b,null))};s.a.render(i.a.createElement(l.a,{store:c.a},i.a.createElement(p,null)),document.getElementById("BotPenguin-messenger-root"))},394:function(e,t,a){},406:function(e,t){},42:function(e,t,a){"use strict";a.d(t,"a",(function(){return xn}));var n=a(4),i=a(0),o=a.n(i),s=a(371),r=a(842),l=a(10),c=a(26),d=a(829),u=a(830),p=a(831),m=a(138),A=a(346),g=a.n(A),h=a(1),v=a.n(h),b=a(822),y=a(847);const f=Object(b.a)({avatar:{margin:10},small:{margin:10,height:25,width:25,border:"1px solid var(--primary-theme-color)"}});function w(e){const t=f();return o.a.createElement(y.a,{alt:"Avatar",src:e.avatar,className:e.small?t.small:t.avatar,style:e.small?{marginTop:15}:null})}var E=a(345),O=a.n(E),C=a(825),S=a(770),I=a(827),T=a(846),x=a(166),j=a(828),N=a(826),R=a(160),B=a.n(R),D=a(328),q=a.n(D),k=a(329),M=a.n(k),U=a(3),H=a(12),P=a(85),K=a.n(P),F=a(18),V=a(369),L=a(11),W=a(8);let Q=sessionStorage.getItem("BotPenguin-".concat(window.parent.BotPenguinData._id));if(Q)try{Q=JSON.parse(Q).flows||void 0}catch(Nn){Q=void 0}const J=e=>({type:W.v,payload:e}),z=e=>({type:W.A,payload:e});var G=a(97);let Z,Y;const X=localStorage.getItem("revisited"),_=U.a.getState();let $;const ee=(e,t)=>{Z&&Z.connected&&Z.emit(e,t)};var te=a(21),ae=a(154),ne=a.n(ae),ie=(a(669),a(772));const oe=e=>({type:W.t,payload:e}),se=e=>({type:W.e,payload:e}),re=e=>({type:W.f,payload:e}),le=e=>{const t=JSON.stringify(e);return K.a.AES.encrypt(t,"user-payload").toString()},ce=()=>{try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e)return e;{const e=ne.a.tz.guess();return e||"UTC"}}catch(e){return"UTC"}},de=(e,t,a,n)=>{const i=e.slice(t,t+9).map(e=>{let t;return"timeSlot"===n?t="".concat(e.start,"-").concat(e.end):"date"===n?t=e:"appointment"===n&&(t=e.name),{id:Object(ie.a)(),type:"button",value:t,next:{type:"button",target:"slot-booking"}}});return e.length>t+9&&i.push({id:Object(ie.a)(),type:"button",value:a,next:{type:"appointment",target:"more-appointment-options"}}),i},ue=(e,t)=>{let a={};return t.forEach(e=>{a[e]=!1}),e.forEach(e=>{a.hasOwnProperty(e.type)&&(a[e.type]=!0)}),t.every(e=>a[e])},pe=(e,t,a)=>{let n;for(const i of e)if(i[a]){n={start:i[a].start,end:i[a].end};break}return{answeredMessages:t.filter(e=>null===e||void 0===e?void 0:e.questionId),selectedDateTime:n}},me=e=>e.map(e=>{const t=e.start.split("T")[1],[a,n]=t.split(":"),i="".concat(a,":").concat(n),o=e.end.split("T")[1],[s,r]=o.split(":"),l="".concat(s,":").concat(r);return{["".concat(i,"-").concat(l)]:e,start:i,end:l}}),Ae=function(e,t,a,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;const r=Object(ie.a)();ee("message",{mid:r,text:e,messageBy:t}),U.a.dispatch(Object(F.d)({label:e,position:"left",type:a,mid:r,options:i})),Object(te.e)({type:n,text:e,messagedBy:t,mid:r,isErrorMessage:s,questionType:((null===o||void 0===o?void 0:o.type)||"").toLowerCase(),questionId:null===o||void 0===o?void 0:o.id}).then().catch(),Object(H.l)(),Object(H.b)(),U.a.dispatch(Object(L.b)({typing:!1}))},ge=e=>{const{action:t,payload:a}=e.data;switch(t){case W.n:U.a.dispatch(Object(F.c)(a));break;case W.l:U.a.dispatch(Object(L.a)(a));break;case W.p:U.a.dispatch((e=>({type:W.p,payload:e}))(a));break;case W.k:U.a.dispatch((e=>({type:W.k,payload:e}))(a));break;case W.j:U.a.dispatch((e=>({type:W.j,payload:e}))(a))}},he=()=>{let e=parseInt(localStorage.getItem("tabCount")||"0");e>1?localStorage.setItem("tabCount",String(e-1)):localStorage.removeItem("tabCount")};var ve=a(36);var be=a(344),ye=a.n(be);const fe=new ve.a,we=e=>{const t=JSON.stringify(e);return K.a.AES.encrypt(t,"user-payload").toString()},Ee=e=>new Date(e).toISOString().split("T")[0],Oe=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return new Promise(async(t,a)=>{try{const{environment:a,messages:n}=U.a.getState(),i=await fe.post("simplybook-dates",{binary:we({_bot:a._id,_user:a._user,formattedToday:Ee(new Date),formattedFutureDate:Ee(new Date((new Date).setDate((new Date).getDate()+e))),messages:n})});t({status:!0,response:i.data||i.response||i})}catch(n){t({status:!1,error:n})}})},Ce=async e=>new Promise(async(t,a)=>{try{const{environment:a,messages:n}=U.a.getState(),i=await fe.post("simplybook-slots",{binary:we({_bot:a._id,_user:a._user,date:e,messages:n})});t({status:!0,slots:i.data.data,duration:i.data.duration})}catch(n){t({status:!1,error:n})}}),Se=async e=>new Promise(async(t,a)=>{try{const{environment:a,messages:n}=U.a.getState();t({status:!0,response:(await fe.post("simplybook-booking",{binary:we({_bot:a._id,_user:a._user,uuid:a.uuid,startTime:e,messages:n})})).response})}catch(n){a({status:!1,error:n})}}),Ie=e=>{const t=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0");return"".concat(t,":").concat(a)};var Te=a(115);const xe=new ve.a,je=e=>new Promise((t,a)=>{const{environment:i}=U.a.getState();xe.post("artificial-intelligence/ai-response",{binary:Ne(Object(n.a)(Object(n.a)({},e),{},{uuid:i.uuid||""}))}).then(e=>{t(e.data)}).catch(e=>{a(e)})}),Ne=e=>{const t=JSON.stringify(e);return K.a.AES.encrypt(t,"user-payload").toString()},Re=async(e,t)=>{let a;try{const s=await ke(t);switch(t.type){case"text":a=[Object(n.a)(Object(n.a)({},e),{},{label:s||t.message,delay:0,type:"AI",shouldFeedbackVisible:!0,_id:void 0})];break;case"button":a=[Object(n.a)(Object(n.a)({},e),{},{type:"button",label:s||t.message.label,options:t.message.options,delay:0,shouldFeedbackVisible:!0,_id:void 0})];break;case"question":{var i,o;const r=null===(i=U.a.getState())||void 0===i||null===(o=i.flows[0])||void 0===o?void 0:o.questions,l=r.findIndex(e=>e.id===t.message.next.target);a=[Object(n.a)(Object(n.a)({},e),{},{label:s||t.message.label,type:"question",next:{type:"question",target:t.message.next.target}}),...await $e(r,l)];break}case"end-chat":a=[Object(n.a)(Object(n.a)({},e),{},{label:s||t.message,delay:0,type:"question",shouldFeedbackVisible:!0,_id:void 0,next:{type:"question",target:"end"}})];break;case"userdefined_intent":if("message"===t.trigger&&(a=[Object(n.a)(Object(n.a)({},e),{},{label:t.message||"",delay:0,type:"AI",shouldFeedbackVisible:!0,_id:void 0,next:{type:"question",target:""}})]),"flow"===t.trigger){const i=await it(Object(n.a)(Object(n.a)({},e),{},{type:"redirect",next:{type:"redirect",target:t._flow}}));a=[...await $e(i.questions,0)]}break;default:return a}return a}catch(s){return[]}},Be=e=>{const{gptAnswer:t,intent:a,isValidResponse:n,scenario:i}=e;switch(a){case"query":return{valid:n,case:n?"":"unsure",gptAnswer:t};case"offensive":case"userdefined_intent":return{valid:!1,case:"userdefined_intent",gptAnswer:t,scenario:i};default:return{valid:!0,case:"",gptAnswer:t}}},De=async e=>{try{var t,a,i,o,s,r,l,c,d,u,p,m,A,g,h,v,b,y,f,w,E,O,C,S,I;const V=U.a.getState(),{gptAnswer:L}=e,{persona:Q}=V.ai;let J=Q;(!Q||Object.keys(Q).length<=1)&&(J=await Object(H.i)(Q._id),Object.keys(J).length&&U.a.dispatch((F=Object(n.a)(Object(n.a)({},V.ai),{},{persona:J}),{type:W.c,payload:F})));const z={noAnswer:null===(t=J.scenarios[0])||void 0===t?void 0:t.message,unusualChatHandling:{unableToAnswer:{showErrorMessage:!0,showLiveChatButton:{enabled:null===(a=J.scenarios[0])||void 0===a||null===(i=a.showLiveChatButton)||void 0===i?void 0:i.enabled,text:null===(o=J.scenarios[0])||void 0===o||null===(s=o.showLiveChatButton)||void 0===s?void 0:s.text},invokeNewFlow:{enabled:"flow"===(null===(r=J.scenarios[0])||void 0===r?void 0:r.trigger),flowId:(null===(l=J.scenarios[0])||void 0===l?void 0:l._flow)||""}}}};let G;if((null===z||void 0===z||null===(c=z.unusualChatHandling)||void 0===c||null===(d=c.unableToAnswer)||void 0===d?void 0:d.showErrorMessage)&&(null===z||void 0===z||null===(u=z.unusualChatHandling)||void 0===u||null===(p=u.unableToAnswer)||void 0===p||null===(m=p.showLiveChatButton)||void 0===m?void 0:m.enabled)){var T,x,j;const e=z.noAnswer;G={type:"button",message:{type:"button",label:e||L,options:[{type:"button",value:null===z||void 0===z||null===(T=z.unusualChatHandling)||void 0===T||null===(x=T.unableToAnswer)||void 0===x||null===(j=x.showLiveChatButton)||void 0===j?void 0:j.text,_id:void 0,next:{type:"live_chat",target:""}}]}}}else if((null===z||void 0===z||null===(A=z.unusualChatHandling)||void 0===A||null===(g=A.unableToAnswer)||void 0===g?void 0:g.showErrorMessage)&&(null===z||void 0===z||null===(h=z.unusualChatHandling)||void 0===h||null===(v=h.unableToAnswer)||void 0===v||null===(b=v.invokeNewMessageInFlow)||void 0===b?void 0:b.enabled)){var N,R,B;const e=null===z||void 0===z||null===(N=z.unusualChatHandling)||void 0===N||null===(R=N.unableToAnswer)||void 0===R||null===(B=R.invokeNewMessageInFlow)||void 0===B?void 0:B.questionId;G={type:"question",message:{label:z.noAnswer||L,next:{type:"question",target:e}}}}else if((null===z||void 0===z||null===(y=z.unusualChatHandling)||void 0===y||null===(f=y.unableToAnswer)||void 0===f?void 0:f.showErrorMessage)&&(null===z||void 0===z||null===(w=z.unusualChatHandling)||void 0===w||null===(E=w.unableToAnswer)||void 0===E||null===(O=E.invokeNewFlow)||void 0===O?void 0:O.enabled)){var D,q,k;const e=null===z||void 0===z||null===(D=z.unusualChatHandling)||void 0===D||null===(q=D.unableToAnswer)||void 0===q||null===(k=q.invokeNewMessageInFlow)||void 0===k?void 0:k.flowId;G={type:"question",message:{label:z.noAnswer||L,next:{type:"redirect",target:e}}}}else if(null===z||void 0===z||null===(C=z.unusualChatHandling)||void 0===C||null===(S=C.unableToAnswer)||void 0===S||null===(I=S.showLiveChatButton)||void 0===I?void 0:I.enabled){var M,P,K;G={type:"button",message:{type:"button",label:L,options:[{type:"button",value:null===z||void 0===z||null===(M=z.unusualChatHandling)||void 0===M||null===(P=M.unableToAnswer)||void 0===P||null===(K=P.showLiveChatButton)||void 0===K?void 0:K.text,_id:void 0,next:{type:"live_chat",target:""}}]}}}else G={type:"text",message:z.noAnswer||L};return G}catch(V){return{type:"text",message:""}}var F},qe=async e=>{let t={};try{switch(e.case){case"unsure":t=await De(e);break;case"inappropriate_lang":case"userdefined_intent":t=Ue(e.scenario);break;default:return Object(n.a)(Object(n.a)({},t),{},{case:""})}return Object(n.a)(Object(n.a)({},t),{},{case:null===e||void 0===e?void 0:e.case})}catch(a){return Object(n.a)(Object(n.a)({},t),{},{case:""})}},ke=async e=>{var t,a,n,i,o,s,r,l;const c=U.a.getState(),d=null===c||void 0===c?void 0:c.ai;let u,p;try{switch(e.case){case"unsure":p=null===d||void 0===d||null===(t=d.messages)||void 0===t||null===(a=t.unusualChatHandling)||void 0===a||null===(n=a.unableToAnswer)||void 0===n?void 0:n.rephraseErrorMessage,u=p?await Me(null===c||void 0===c||null===(i=c.environment)||void 0===i?void 0:i._id,null===e||void 0===e?void 0:e.message):e.message.label;break;case"inappropriate_lang":p=null===d||void 0===d||null===(o=d.messages)||void 0===o||null===(s=o.unusualChatHandling)||void 0===s||null===(r=s.inAppropriateLanguage)||void 0===r?void 0:r.rephraseErrorMessage,u=p?await Me(null===c||void 0===c||null===(l=c.environment)||void 0===l?void 0:l._id,null===e||void 0===e?void 0:e.message):e.message.label;break;default:u=e.message}return u}catch(m){return e.message}},Me=async(e,t)=>new Promise((a,n)=>{xe.post("artificial-intelligence/rephrase-ai-chat-error",{binary:Ne({_bot:e,errorPrompt:t})}).then(e=>{a(e.data)}).catch(e=>{n(e)})}),Ue=e=>({type:"userdefined_intent",trigger:e.trigger,message:e.message||"",_flow:e._flow}),He=new ve.a,Pe=async()=>new Promise(async(e,t)=>{try{const{environment:t,flows:a}=U.a.getState(),n=a[0].questions;if(!ue(n,["email","name","phone"]))return e({status:!1,message:"Email, name and phone number are required to create an appointment"});const i=await He.post("acuity-booking-types",{binary:le({botId:t._id,_user:t._user})});e({status:!0,response:i.data||i.response||i})}catch(a){e({status:!1,error:a})}}),Ke=async(e,t)=>new Promise(async(a,n)=>{try{const{environment:n}=U.a.getState(),i=await He.post("acuity-dates-available",{binary:le({botId:n._id,_user:n._user,timezone:ce(),appointmentId:t,futureDays:null===e||void 0===e?void 0:e.futureDays})});a({status:!0,response:i.data||i.response||i})}catch(i){a({status:!1,error:i})}}),Fe=async(e,t)=>new Promise(async(a,n)=>{try{let{environment:n,appointmentMeta:i}=U.a.getState();const o=(i.acuityTypes||[]).find(e=>e.id===t),s=await He.post("acuity-timeslot-available",{binary:le({botId:n._id,_user:n._user,appointmentId:t,duration:o.duration,date:e})});a({status:!0,response:s.data||s.response||s})}catch(i){a({status:!1,error:i})}}),Ve=async e=>new Promise(async(t,a)=>{try{var n;let{environment:a,messages:i,appointmentMeta:o}=U.a.getState();const s=o.slots,{selectedDateTime:r,answeredMessages:l}=pe(s,i,e),c=o.selectedValues.acuityAppointmentId,d=null===(n=o.acuityTypes)||void 0===n?void 0:n.find(e=>e.id===c),u=await He.post("acuity-book-appointment",{binary:le({botId:a._id,_user:a._user,uuid:a.uuid,dateTime:r.start,messages:l,appointment:d})});t({status:!0,response:u.data||u.response||u})}catch(i){t({status:!1,error:i})}}),Le=new ve.a,We=async e=>new Promise(async(t,a)=>{try{const{environment:a,flows:n}=U.a.getState();if(!ue(n[0].questions,["email"]))return t({status:!1,message:"Email is required to create an appointment"});const i=await Le.post("google-calendar/dates",{binary:le({_bot:a._id,_user:a._user,userTimeZone:ce(),appointment:{startTime:e.startTime,endTime:e.endTime,availableDays:e.availableDays,interval:e.interval,futureDays:null===e||void 0===e?void 0:e.futureDays}})});return t({status:!0,response:i.data||i.response||i})}catch(n){return t({status:!1,error:n})}}),Qe=async e=>new Promise(async(t,a)=>{try{let{environment:a,messages:n,appointmentMeta:i}=U.a.getState();const o=i.slots,{selectedDateTime:s,answeredMessages:r}=pe(o,n,e),l=await Le.post("google-calendar/book",{binary:le({_bot:a._id,_user:a._user,startDate:s.start,endDate:s.end,messages:r,uuid:a.uuid})});return t({status:!0,response:l.data||l.response||l})}catch(n){return t({status:!1,error:n})}}),Je=new ve.a,ze=async e=>new Promise(async(t,a)=>{try{const{environment:a,flows:n}=U.a.getState(),i=n[0].questions;if(!((e,t)=>{let a=!1;return e.forEach(e=>{t.includes(e.type)&&(a=!0)}),a})(i,["email","phone"]))return t({status:!1,message:"Email or Phone is required to create an appointment"});const o=await Je.post("gohighlevel/dates",{binary:le({_bot:a._id,_user:a._user,timezone:ce(),futureDays:null===e||void 0===e?void 0:e.futureDays})});t({status:!0,response:o.data||o.response||o})}catch(n){t({status:!1,error:n})}}),Ge=async e=>new Promise(async(t,a)=>{try{let{environment:a,messages:n,appointmentMeta:i}=U.a.getState();const o=i.slots,{selectedDateTime:s,answeredMessages:r}=pe(o,n,e),l=await Je.post("gohighlevel/book/slot",{binary:le({_bot:a._id,_user:a._user,uuid:a.uuid,startDate:s.start,endDate:s.end,messages:r})});t({status:!0,response:l.data||l.response||l})}catch(n){t({status:!1,error:n})}});function Ze(e){var t,a,n,i=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(a&&null!=(t=e[a]))return t.call(e);if(n&&null!=(t=e[n]))return new Ye(t.call(e));a="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Ye(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(Ye=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var a=this.s.return;return void 0===a?Promise.resolve({value:e,done:!0}):t(a.apply(this.s,arguments))},throw:function(e){var a=this.s.return;return void 0===a?Promise.reject(e):t(a.apply(this.s,arguments))}},new Ye(e)}const Xe=["QUESTION","EMAIL","PHONE","NUMBER","LOCATION","NAME","LIVE_CHAT","SMART_QUESTION","AI"],_e=["STATEMENT","IMAGE","CONTACT","VIDEO"];function $e(e,t){return new Promise(async a=>{let n=[],i=U.a.getState().messages.filter(e=>!!e.questionId&&e.isValid).map(e=>e.questionId);if(!e[t])return a(n);if(_e.includes(e[t].type.toUpperCase()))if(n=[...n,e[t]],e[t].next.target){if(e[t].next.target.match(/end/))return a(n);const i=e.findIndex(a=>a.id===e[t].next.target);n=-1===i?[...n,...await $e(e,t+1)]:[...n,...await $e(e,i)]}else n=[...n,...await $e(e,t+1)];else if(e[t].skipIfAnswered&&i.includes(e[t].id)&&["EMAIL","PHONE","NAME"].includes(e[t].type.toUpperCase())){const a=e.findIndex(a=>a.id===e[t].next.target);n=-1===a?[...n,...await $e(e,t+1)]:[...n,...await $e(e,a)]}else n=[...n,e[t]];const o=n.find(e=>"redirect"===e.type);if(o){const e=await it(o);n=[...n,...await $e(e.questions,0)].filter(e=>"redirect"!==e.type)}const s=n.find(e=>"api"===e.type);if(s){const{nextQuestionId:a}=await Object(H.n)(s),i=e.findIndex(e=>e.id===a),o=n.filter(e=>"api"!==e.type);n=-1===i?[...o,...await $e(e,t+1)]:[...o,...await $e(e,i)]}return a(n)})}const et=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=U.a.getState();let o=i.environment.activeQuestion;U.a.dispatch(Object(L.b)({typing:!1,refresh:!0})),U.a.dispatch(z({status:!1})),$e(i.flows[0].questions,e).then(async e=>{if(e.length?"statement"===e[e.length-1].type.toLowerCase()&&ee("update-user-details",{isCompleted:!0}):ee("update-user-details",{isCompleted:!0}),"AI"===(null===o||void 0===o?void 0:o.type)&&!a){const a=i.ai.aiReplies||0;if("AI"===(null===o||void 0===o?void 0:o.type)){let i=!1;if(a<(o.queriesToHandle||0)){const{gptAnswer:s}=t;let r;const l=Be(t);if(l.valid)r=t?[Object(n.a)(Object(n.a)({},o),{},{label:s,delay:0,type:"AI",shouldFeedbackVisible:!0,_id:void 0})]:[];else{let e=await qe(l);r=await Re(o,e)}i=!!t&&a+1>=(o.queriesToHandle||0),e=i?[...r,...e]:r}}}e.some(e=>"AI"===e.type&&!!e._id)?U.a.dispatch(se({aiReplies:0})):e.some(e=>"AI"===e.type)&&U.a.dispatch(se({aiReplies:i.ai.aiReplies+1}));const s=e.findIndex(e=>"appointment"===e.type&&e.appointmentHandler),r=e[s];if(r){var l;U.a.dispatch(Object(L.b)({typing:!0}));const t=r.appointmentHandler,a=(null===(l=r.appointment)||void 0===l?void 0:l.moreOption)||"More Option";let o;if("simply-book"===t){var c;const e=(null===(c=r.appointment)||void 0===c?void 0:c.futureDays)||15;o=await Oe(e)}if(["google","go-high-level"].includes(t)){const e=r.appointment;o="google"===t?await We(e):await ze(e)}if("acuity"===t){const t=await Pe(),o=i.appointmentMeta.acuityTypeCount;if(t.status){let l=t.response,c=de(l,o,a,"appointment");U.a.dispatch(oe(Object(n.a)(Object(n.a)({},i.appointmentMeta),{},{dates:[],datesSent:0,acuityTypes:l,acuityTypeCount:o+c.length-1,isActive:!0,slots:[],lastQuestionSent:Object(n.a)(Object(n.a)({},r),{},{label:r.label,options:c})}))),e.splice(s,1,Object(n.a)(Object(n.a)({},r),{},{label:r.label,options:c,type:"button"}))}else{var d;const t=(null===(d=r.message)||void 0===d?void 0:d.unavailable)||"Sorry, we are unable to process your request at this time. Please try again later.";let a=await nt(i.flows[0].questions,r),o=[Object(n.a)(Object(n.a)({},r),{},{label:r.label,type:"statement"}),Object(n.a)(Object(n.a)({},r),{},{label:t,type:"statement"}),...(null===a||void 0===a?void 0:a.length)?a:[]];e.splice(s,1,...o)}}if("acuity"!==t)if(o.status){const l=i.appointmentMeta.datesSent;let c=[],d=[];if("simply-book"===t){c=o.response.filter(e=>!e.is_day_off).map(e=>Ee(e.date)).map(Ee)}["google","go-high-level"].includes(t)&&(d=[o.response.slots],c=o.response.dates);const u=de(c,l,a,"date");U.a.dispatch(oe(Object(n.a)(Object(n.a)({},i.appointmentMeta),{},{dates:c,datesSent:l+u.length-1,isActive:!0,slots:d,lastQuestionSent:Object(n.a)(Object(n.a)({},r),{},{label:r.label,options:u})}))),e.splice(s,1,Object(n.a)(Object(n.a)({},r),{},{label:r.label,options:u,type:"button"}))}else{var u,p,m,A,g,h,v;const a=(null===(u=r.message)||void 0===u?void 0:u.unavailable)||"Sorry, we are unable to process your request at this time. Please try again later.";let l=(null===(p=o)||void 0===p||null===(m=p.error)||void 0===m||null===(A=m.response)||void 0===A||null===(g=A.data)||void 0===g?void 0:g.message)||(null===(h=o)||void 0===h||null===(v=h.error)||void 0===v?void 0:v.message);if("google"!==t||"Integration details not found"!==l){let t=await nt(i.flows[0].questions,r),o=[Object(n.a)(Object(n.a)({},r),{},{label:r.label,type:"statement"}),{label:a,type:"statement"},...(null===t||void 0===t?void 0:t.length)?t:[]];e.splice(s,1,...o)}}}var b,y=!1,f=!1;try{for(var w,E=Ze(e);y=!(w=await E.next()).done;y=!1){let e=w.value;{var O,C,S,I,T,x,j;e=tt(e);let a=null===(O=e)||void 0===O||null===(C=O.label)||void 0===C?void 0:C.replace("{{name}}",sessionStorage.getItem("name")||"User");try{a=ye.a.render(a,i.environment.response||{})}catch(Nn){console.error(Nn.message)}U.a.dispatch(Object(L.b)({typing:!0,refresh:!1,skip:!1,back:!1})),Object(H.l)(100),await Object(H.m)(Math.abs(e.delay));const o=!!["STATEMENT","IMAGE","CONTACT","VIDEO","ASSIGN-CHAT"].includes((e.type||"").toUpperCase())&&"end"===(null===(S=e.next)||void 0===S?void 0:S.target),s=Object(ie.a)();Object(te.e)(Object(n.a)(Object(n.a)({mid:s,type:"message",text:a,messagedBy:"bot",isFreeAIMessage:t&&!(null===(I=i.ai)||void 0===I?void 0:I.isKeyActive),isErrorMessage:!1,questionType:((null===(T=e)||void 0===T?void 0:T.type)||"").toLowerCase(),questionId:null===(x=e)||void 0===x?void 0:x.id},"button"===e.type&&{singleChoiceOptions:((null===(j=e)||void 0===j?void 0:j.options)||[]).map(e=>e.value)}),{},{endChat:o})).then().catch(),ee("message",{mid:s,text:a,messageBy:"bot"}),U.a.dispatch(Object(F.d)(Object(n.a)(Object(n.a)({},e),{},{label:a,mid:s}))),U.a.dispatch(Object(L.b)({activeQuestion:e,typing:!1,activeQuestionType:e.type,refresh:!0,skip:e.skip,back:e.back})),U.a.dispatch(z({status:Xe.includes(e.type.toUpperCase())})),Object(H.l)(100),await Object(H.m)(),Object(H.b)(),"LIVE_CHAT"===e.type.toUpperCase()&&(U.a.dispatch(Object(L.b)({liveChat:!0})),ct())}}}catch(N){f=!0,b=N}finally{try{y&&null!=E.return&&await E.return()}finally{if(f)throw b}}e.length||"AI"!==o.type||U.a.dispatch(z({status:!0}))})},tt=e=>{const t=U.a.getState().attributes;if(!e)return e;if("string"===typeof e){let a=e;return(t||[]).forEach(e=>{const t="string"===typeof(null===e||void 0===e?void 0:e.value)?e.value:JSON.stringify(e.value);a=e.key?a.split(e.key).join(t):a}),a}if(Array.isArray(e))return e.map(e=>tt(e));if("object"===typeof e){for(const t of Object.keys(e))e[t]=tt(e[t]);return e}return e},at=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;var i,o;["name","email","phone"].includes(e.type)&&U.a.dispatch(Object(Te.a)({key:"{{".concat(e.type,"}}"),value:"phone"===e.type?(null===(i=U.a.getState())||void 0===i||null===(o=i.environment)||void 0===o?void 0:o.dialCode)+t:t}));if("button"===e.type&&e.apiConfiguration&&e.apiConfiguration.isEnabled){const t=a.find(t=>t._id===e.apiConfiguration.mappedAttributeWithValue);t&&U.a.dispatch(Object(Te.a)({key:"{{".concat(t.key,"}}"),value:n}))}if(e._attribute){const n=a.find(t=>t._id===e._attribute);n&&U.a.dispatch(Object(Te.a)({key:"{{".concat(n.key,"}}"),value:t}))}},nt=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=[];const n=e.findIndex(e=>e.id===t.id);if(t.next.target){const i=e.find(e=>e.id===t.next.target);i?a.push(i):a=e.slice(n+1,n+2)}else a=e.slice(n+1,n+2);if(a.length){if("api"===a[0].type||"statement"===a[0].type){const t=e.findIndex(e=>e.id===a[0].id);a=await $e(e,t)}return a}return[]},it=async e=>{try{if("redirect"!==e.type)return e;const a=U.a.getState().redirectFlows||[],n=(a||[]).find(t=>t._id===e.next.target);if(n)return U.a.dispatch(J([n])),n;const i=await Object(H.j)(e);return U.a.dispatch((t=[...a,i],{type:W.y,payload:t})),U.a.dispatch(J([i])),i}catch(a){return console.log("Something went wrong while fetching redirect flow."),e}var t},ot=localStorage.getItem("BotPenguin_User_uuid");let st;const rt=U.a.getState(),lt=new ve.a,ct=()=>{var e,t,a;lt.put("live-chat-request",{uuid:localStorage.getItem("BotPenguin_User_uuid"),_bot:localStorage.getItem("__BotPenguin"),_customer:rt.environment._user,_user:rt.environment._chatWindowUser,emails:null===(e=rt.configuration)||void 0===e||null===(t=e.alertSettings)||void 0===t||null===(a=t.email)||void 0===a?void 0:a.emails,botName:rt.design.name,_parent:rt.environment.agencyData._id,platform:"WEBSITE"}).then(()=>{var e,t,a,n,i;U.a.dispatch(Object(L.b)({liveChat:!0,disableStartButton:!0,typing:!1})),U.a.dispatch(Object(F.b)({title:(null===(e=rt.configuration.generalSettings)||void 0===e?void 0:e.waitingMessageTitle)||"Initiating Live Chat...",text:rt.configuration.generalSettings.waitingMessage,color:"blue",dynamicColor:!0,primaryColor:null===(t=rt.configuration)||void 0===t||null===(a=t.chatMenu)||void 0===a?void 0:a.liveChatInitiatePrimaryColor,secondaryColor:null===(n=rt.configuration)||void 0===n||null===(i=n.chatMenu)||void 0===i?void 0:i.liveChatInitiateSecondaryColor,type:"LIVE_CHAT_NOTIFICATION"})),U.a.dispatch(z({value:""})),gt("Live chat request by user");const o=rt.configuration.chatMenu.liveChatRequestExpiryTime||3e5;st=setTimeout(()=>{var e,t,a,n,i;gt("Live chat request expired"),ut(ot),U.a.dispatch(Object(F.b)({title:(null===(e=rt.configuration.generalSettings)||void 0===e?void 0:e.unavailabilityMessageTitle)||"Live chat is Unavailable!!",text:rt.configuration.generalSettings.unavailabilityMessage,color:"orange",dynamicColor:!0,primaryColor:null===(t=rt.configuration)||void 0===t||null===(a=t.chatMenu)||void 0===a?void 0:a.liveChatUnavailablePrimaryColor,secondaryColor:null===(n=rt.configuration)||void 0===n||null===(i=n.chatMenu)||void 0===i?void 0:i.liveChatInitiateSecondaryColor,type:"LIVE_CHAT_NOTIFICATION"})),At()},o),Object(H.l)()}).catch()},dt=()=>{st&&clearTimeout(st)},ut=async e=>{await lt.put("expire-chat-request/".concat(e),{}).then(()=>{U.a.dispatch(Object(L.b)({liveChatExpired:!0,chatRequestRejected:!0,chatRequestAccepted:!1,liveChat:!1,initiateLiveChat:!1,disableStartButton:!1,agentId:void 0})),Object(H.l)(),localStorage.removeItem("agentId"),localStorage.removeItem("bp-wsn")}).catch()},pt=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{environment:t,design:a,flows:n}=U.a.getState();if(U.a.dispatch(oe({dates:[],datesSent:0,slots:[],slotsSent:0,acuityTypes:[],acuityTypeCount:0,selectedValues:{date:"",slot:"",acuityAppointmentId:""},lastQuestionSent:{},isActive:!1})),localStorage.getItem("agentId")){var i;const o="Chat handed over to ".concat((null===a||void 0===a?void 0:a.name)||"Bot","\n    ").concat(n[0]&&(null===(i=n[0])||void 0===i?void 0:i.name)?"(Flow: "+n[0].name+")":"","\n     by user");await lt.put("bot-update-handler/bot",{uuid:rt.environment.uuid,transferredBy:"USER",_transferrer:rt.environment._chatWindowUser,agentId:localStorage.getItem("agentId"),_bot:t._id,text:o}).then(async()=>{await et(0,"",e),localStorage.removeItem("agentId"),localStorage.removeItem("bp-wsn"),U.a.dispatch(Object(F.e)({label:"You have transferred the chat back to bot",type:"NEW_NOTIFICATION"})),U.a.dispatch(Object(L.b)({liveChat:!1,chatRequestAccepted:!1,disableStartButton:!1,agentId:void 0,enableTextInput:!0})),localStorage.removeItem("agentId")}).catch()}else dt(),et(0,"",e),localStorage.getItem("agentId")||ut(rt.environment.uuid),U.a.dispatch(Object(L.b)({liveChat:!1,chatRequestAccepted:!1,disableStartButton:!1,agentId:void 0})),localStorage.removeItem("agentId"),localStorage.removeItem("bp-wsn")},mt=async()=>{localStorage.getItem("agentId")&&await lt.put("bot-update-handler/whatsapp",{uuid:rt.environment.uuid,transferredBy:"USER",_transferredTo:localStorage.getItem("agentId"),agentId:localStorage.getItem("agentId")}).then(()=>{U.a.dispatch(Object(F.e)({label:"You have transferred the chat to Whatsapp",type:"NEW_NOTIFICATION"})),U.a.dispatch(Object(L.b)({chatRequestRejected:!1,chatRequestAccepted:!1,liveChat:!1,disableStartButton:!1,agentId:void 0,typing:!1})),U.a.dispatch(z({status:!1,value:""})),window.open("https://wa.me/"+localStorage.getItem("bp-wsn"),"_blank"),localStorage.removeItem("agentId"),localStorage.removeItem("bp-wsn"),Object(H.l)()}).catch()},At=()=>{const e=U.a.getState(),t=e.environment.activeQuestion,a=(e.flows[0].questions||[]).findIndex(e=>e.id===t.id);if(t.next&&t.next.target){const a=(e.flows[0].questions||[]).findIndex(e=>e.id===t.next.target);et(a)}else et(a+1)},gt=e=>{const t=Object(ie.a)();ee("message",{mid:t,text:e,messageBy:"system"}),Object(te.e)({type:"message",text:e,messagedBy:"system",mid:t}).then().catch()},ht=Object(b.a)({root:{backgroundColor:"transparent"},list:{margin:0,padding:0,width:"100%",height:"50px"},dialog:e=>({position:"absolute",["bottom"===e.position?"bottom":"top"]:0,["rtl"===e.direction?"left":"right"]:0,maxWidth:"230px",height:"150px",overflow:"hidden",["bottom"===e.position?"marginLeft":"marginRight"]:"15vh",marginTop:"55px",boxShadow:"0px 3px 6px #00000029",borderRadius:"10px",opacity:1}),avatar:{backgroundColor:x.a[100],color:x.a[600]},text:{color:"#000"},images:{width:"20px",height:"20px"},listItem:{height:"100%",marginRight:"14px",paddingRight:"14px"},listItemIcon:{marginRight:"-25px"},listItemDisabled:{opacity:.3}});function vt(e){var t,a,n;const i=U.a.getState();let s=i.configuration.chatMenu;const r=null===i||void 0===i||null===(t=i.environment)||void 0===t?void 0:t.direction,l=Object(H.c)(null===i||void 0===i||null===(a=i.environment)||void 0===a||null===(n=a.agencyData)||void 0===n?void 0:n.meta),{onClose:c,selectedValue:d,open:u,position:p}=e,m=ht({position:p,direction:r});let A;A=!localStorage.getItem("agentId")||!localStorage.getItem("bp-wsn");return o.a.createElement(T.a,{onClose:()=>{c(d)},"aria-labelledby":"simple-dialog-title",open:u,BackdropProps:{classes:{root:m.root}},classes:{paper:m.dialog}},o.a.createElement(C.a,{className:m.list,component:"nav","aria-label":"main mailbox folders"},!s.hideTransferToWhatsApp&&o.a.createElement(S.a,{button:!0,className:m.listItem,disabled:A||!s.toWhatsapp,classes:{disabled:m.listItemDisabled}},o.a.createElement(N.a,{className:m.listItemIcon},o.a.createElement("img",{src:B.a,className:m.images,alt:"whatsapp-icon"})),o.a.createElement(I.a,{primary:s.transferToWhatsAppText||"Transfer to WhatsApp",className:m.text,onClick:()=>{e.transferToWhatsapp(),e.onClose()}})),o.a.createElement(j.a,null),!1===i.environment.chatRequestAccepted?o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,{button:!0,className:m.listItem,disabled:i.environment.disableStartButton||!s.toLiveChat},o.a.createElement(N.a,{className:m.listItemIcon},o.a.createElement("img",{src:M.a,className:m.images,alt:"agent-icon"})),o.a.createElement(I.a,{primary:s.startLiveChatText||"Start live chat",className:m.text,onClick:()=>{e.startLiveChat(),e.onClose()}}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,{button:!0,className:m.listItem,disabled:!s.toChatBot},o.a.createElement(N.a,{className:m.listItemIcon},o.a.createElement("img",{src:l,className:m.images,alt:"bot-icon"})),o.a.createElement(I.a,{primary:s.transferToBotText||"Transfer To Bot",className:m.text,onClick:()=>{e.transferToBot(),e.onClose()}}))),o.a.createElement(j.a,null),!(null===s||void 0===s?void 0:s.hideRefreshChat)&&o.a.createElement(S.a,{button:!0,disabled:!s.refreshChat},o.a.createElement(N.a,{className:m.listItemIcon},o.a.createElement("img",{src:q.a,className:m.images,alt:"refresh-icon"})),o.a.createElement(I.a,{primary:s.refreshChatText||"Refresh Chat",className:m.text,onClick:()=>{e.restartChat(),e.onClose()}}))))}function bt(e){const[t,a]=o.a.useState(!1);return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{alt:"More Options",onClick:()=>{a(!0)}}),o.a.createElement(vt,{open:t,onClose:e=>{a(!1)},restartChat:e.restartChat,startLiveChat:e.startLiveChat,transferToBot:e.transferToBot,transferToWhatsapp:e.transferToWhatsapp,position:e.position,trigger:e.trigger}))}const yt=e=>({type:W.g,payload:e});class ft extends o.a.Component{constructor(e){super(e),this.state=U.a.getState(),this.updateState=()=>{if(sessionStorage.getItem("BotPenguin_rating")){(new window.parent.BotPenguin).closeWindow(),localStorage.setItem("bp-user-close","true")}else U.a.dispatch(yt({sessionClose:!0}))},this.restartChat=()=>{var e,t,a;pt(!0),U.a.dispatch(Object(L.b)({selectedTags:[]})),U.a.dispatch(J([null===(e=U.a.getState())||void 0===e?void 0:e.revisitFlow]));const{clearChatOnRestart:n}=null===(t=U.a.getState())||void 0===t||null===(a=t.configuration)||void 0===a?void 0:a.chatMenu;n&&U.a.dispatch(Object(F.f)())},this.startLiveChat=()=>{ct()},this.transferToBot=()=>{pt()},this.transferToWhatsapp=()=>{mt()},this.hideInfoDiv=()=>{this.setState({hideInfoDiv:!0})},this.state={close:!1,refresh:!1,menuOpen:!1,trigger:"bot",hideInfoDiv:!1},this.socket=null}render(){const{classes:e}=this.props;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.grow},o.a.createElement(d.a,{position:"fixed",id:"header",elevation:0},o.a.createElement(u.a,{className:e.toolbar},o.a.createElement(w,{avatar:this.props.design.avatar}),o.a.createElement(m.a,{className:e.headText,variant:"body1",noWrap:!0},this.props.design.name),o.a.createElement("div",{className:e.grow}),o.a.createElement("div",{className:e.icons,style:{color:this.props.color||"black"}},o.a.createElement("div",null,o.a.createElement(p.a,{className:e.icon,color:"inherit"},o.a.createElement(bt,{restartChat:this.restartChat,startLiveChat:this.startLiveChat,liveChat:U.a.getState().environment.liveChat,transferToWhatsapp:this.transferToWhatsapp,transferToBot:this.transferToBot}))),this.props.environment.embedded||this.props.environment.isLanding?null:o.a.createElement(p.a,{onClick:this.updateState,disabled:this.state.close,color:"inherit",className:e.icon},o.a.createElement(g.a,null)))),o.a.createElement("div",{className:"".concat(e.dInfo," ").concat(this.props.environment.socketDisconnected?e.connectivityIssue:e.dNone),onClick:this.hideInfoDiv},o.a.createElement("p",{style:{margin:"auto"}},"Due to network issue, chat has been transferred back to bot! ")))))}}ft.defaultProps={heading:"BotPenguin"},ft.proptype={heading:v.a.element.isRequired};var wt=Object(c.b)(e=>({design:e.design,environment:e.environment}),{})(Object(l.a)(e=>({grow:{flexGrow:1},text:{wordBreak:"break-all",maxWidth:"100%"},icons:{display:"flex"},toolbar:{padding:0,paddingRight:5,minHeight:65},headText:{fontSize:20,color:e.palette.text.primary},icon:{color:e.palette.text.primary},color:{color:e.palette.text.primary},dNone:{display:"none"},dInfo:{backgroundColor:"white",color:"#118cfc",fontWeight:"700",textAlign:"center",transition:"opacity 1.5s",position:"fixed",top:"65px",width:"100%",padding:"4px","box-shadow":"2px 1px 2px 1px rgb(0 0 0 / 20%)",opacity:0},connectivityIssue:{opacity:1}}))(ft)),Et=a(374),Ot=a(347),Ct=a.n(Ot);var St=Object(l.a)(e=>({root:{padding:e.spacing(1,2),margin:10,marginLeft:0,marginRight:0,width:"fit-content",maxWidth:"60%",borderRadius:"20px 20px 20px 0px"},image:{height:20,padding:0,margin:"auto",paddingTop:10}}))((function(e){const{classes:t}=e;return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(w,{avatar:e.avatar,small:!0}),o.a.createElement(Et.a,{className:t.root,elevation:0,style:{background:"rgb(245,245,245)"}},o.a.createElement("img",{className:t.image,src:Ct.a,alt:""})))})),It=a(832),Tt=a(88),xt=a.n(Tt);const jt=["EMAIL","PHONE","NUMBER","NAME","APPOINTMENT","SMART_QUESTION"],Nt=["SKIP","BACK"];async function Rt(e,t){var a,i,o,s,r,l,c,d,u,p,m,A,g,h,v,b,y,f,w,E;let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,C=arguments.length>3&&void 0!==arguments[3]&&arguments[3],S={};const I=U.a.getState();let T=I.environment.activeQuestion;const x=I.environment.customAttributesList;let j,N=T.type;if(!e)return;T._attribute&&x.length&&(j=(x||[]).find(e=>e._id===T._attribute));let R=[];C&&R.push({caption:"",type:"document",url:e});const B=Object(ie.a)();localStorage.getItem("agentId")&&(T=null),ee("message",{mid:B,text:"phone"===N?I.environment.dialCode+e:e,messageBy:"user",medias:R}),U.a.dispatch(Object(F.d)({label:"phone"===N?I.environment.dialCode+e:e,position:"right",type:"STATEMENT",mid:B,questionId:null===(a=T)||void 0===a?void 0:a.id,isValid:"name"===(null===(i=T)||void 0===i?void 0:i.type)||"email"===(null===(o=T)||void 0===o?void 0:o.type)&&xt.a.isEmail(e.trim())||"phone"===(null===(s=T)||void 0===s?void 0:s.type)&&Bt(T,e)}));const D="email"===(null===(r=T)||void 0===r?void 0:r.type)?xt.a.isEmail(e.trim()):"phone"===(null===(l=T)||void 0===l?void 0:l.type)&&Bt(T,e),q="end"===(null===(c=T)||void 0===c||null===(d=c.next)||void 0===d?void 0:d.target);if(Object(te.e)(Object(n.a)(Object(n.a)(Object(n.a)({type:"message",text:"phone"===(null===(u=T)||void 0===u?void 0:u.type)?I.environment.dialCode+e:e},"phone"===(null===(p=T)||void 0===p?void 0:p.type)&&{prefix:I.environment.dialCode}),{},{messagedBy:"user",questionId:null===(m=T)||void 0===m?void 0:m.id,shouldNotify:(null===(A=T)||void 0===A?void 0:A.sendNotifications)||!1,attributeId:(null===(g=T)||void 0===g?void 0:g._attribute)||"",isErrorMessage:!1,questionType:(null===(h=I.environment)||void 0===h?void 0:h.liveChat)?"live_chat":((null===(v=T)||void 0===v?void 0:v.type)||"").toLowerCase()},j&&j.key&&{mappedAttributeKeys:[j.key]}),{},{mid:B,mappedValue:t,mappedAttributeValueId:(null===(b=T)||void 0===b||null===(y=b.apiConfiguration)||void 0===y?void 0:y.mappedAttributeWithValue)||"",medias:R,validAnswer:D,endChat:q})).then().catch(),Object(H.l)(),Object(te.a)(T,e,I.environment._chatWindowUser),Object(te.a)(T,e,I.environment._chatWindowUser,I.environment._user).catch(e=>console.log(e)),U.a.dispatch(Object(F.g)({})),U.a.dispatch(z({status:I.environment.liveChat||I.environment.enableTextInput||I.text.status,value:""})),!T)return;if(I.appointmentMeta.isActive&&"button"===T.type){var k;const t=T.appointmentHandler,a=I.appointmentMeta,i=(null===(k=T.appointment)||void 0===k?void 0:k.moreOption)||"More Option",{date:o,slot:s,acuityAppointmentId:r}=a.selectedValues,{dates:l,slots:c,slotsSent:d,datesSent:u,acuityTypes:p,acuityTypeCount:m}=a;let A;if("acuity"===t&&!r){var M;U.a.dispatch(Object(L.b)({typing:!0}));if(e===i){let e=de(p,m,i,"appointment");return U.a.dispatch(oe(Object(n.a)(Object(n.a)({},I.appointmentMeta),{},{acuityTypeCount:m+e.length-1}))),Ae(T.label,"bot","BUTTON","button",e,T,!1)}const t=p.find(t=>t.name===e),{id:a}=t,o=T.appointment,s=await Ke(o,a);var P;if(!s.status)return A=(null===(P=T.message)||void 0===P?void 0:P.unavailable)||"Sorry, we are unable to process your request at this time. Please try again later.",Ae(A,"bot","STATEMENT","message",[],T,!0);const r=s.response,l=de(r,u,i,"date");return U.a.dispatch(oe(Object(n.a)(Object(n.a)({},I.appointmentMeta),{},{dates:r,datesSent:u+l.length-1,selectedValues:{acuityAppointmentId:a}}))),A=(null===(M=T.appointment)||void 0===M?void 0:M.secondaryLabel)||T.label,Ae(A,"bot","BUTTON","button",l,T,!1)}if(U.a.dispatch(Object(L.b)({typing:!0})),!o&&!s){var K;if(e===i){const e=de(l,u,i,"date");return U.a.dispatch(oe(Object(n.a)(Object(n.a)({},I.appointmentMeta),{},{datesSent:u+e.length-1}))),Ae(T.label,"bot","BUTTON","button",e,T,!1)}let a;if(Object(H.m)(2),"simply-book"===t){let t=await Ce(e);var V;if(!t.status)return A=(null===(V=T.message)||void 0===V?void 0:V.unavailable)||"Sorry, we are unable to process your request at this time. Please try again later.",Ae(A,"bot","STATEMENT","message",[],T,!0);const n=t.duration;a=t.slots.map(e=>{const t=new Date(e.id),a=new Date(t.getTime()+6e4*n);return{id:e.id,start:Ie(t),end:Ie(a)}})}if(["go-high-level","google"].includes(t)){const t=c[0][e];a=me(t)}if("acuity"===t){let t=await Fe(e,r);var W;if(!t.status)return A=(null===(W=T.message)||void 0===W?void 0:W.unavailable)||"Sorry, we are unable to process your request at this time. Please try again later.",Ae(A,"bot","STATEMENT","message",[],T,!0);let n=t.response;a=me(n)}const o=de(a,d,i,"timeSlot");return U.a.dispatch(oe(Object(n.a)(Object(n.a)({},I.appointmentMeta),{},{slotsSent:d+o.length-1,slots:a,selectedValues:Object(n.a)(Object(n.a)({},I.appointmentMeta.selectedValues),{},{date:e})}))),A=(null===(K=T.appointment)||void 0===K?void 0:K.secondaryLabel)||T.label,Ae(A,"bot","BUTTON","button",o,T,!1)}if(o){if(e===i){var Q;const e=de(c,d,i,"timeSlot");return U.a.dispatch(oe(Object(n.a)(Object(n.a)({},I.appointmentMeta),{},{slotsSent:d+e.length-1}))),A=(null===(Q=T.appointment)||void 0===Q?void 0:Q.secondaryLabel)||T.label,Ae(A,"bot","BUTTON","button",e,T,!1)}if("simply-book"===t){const t=e.split("-")[0],a=I.appointmentMeta.slots.find(e=>e.start===t);Se(a.id)}"google"===t&&Qe(e),"go-high-level"===t&&Ge(e),"acuity"===t&&Ve(e),U.a.dispatch(Object(L.b)({typing:!1})),U.a.dispatch(oe({dates:[],datesSent:0,slots:[],slotsSent:0,acuityTypes:[],acuityTypeCount:0,selectedValues:{date:"",slot:"",acuityAppointmentId:""},lastQuestionSent:{},isActive:!1}))}}if(at(T,e,(null===I||void 0===I||null===(f=I.environment)||void 0===f?void 0:f.customAttributesList)||[],t||""),jt.includes(T.type.toUpperCase())&&!Nt.includes(e.toUpperCase())){U.a.dispatch(z({value:""})),await Object(H.m)(.5);const t=Object(ie.a)();if(!I.environment.liveChat)switch(T.type.toUpperCase()){case"EMAIL":{var J,G,Z;const a=T.message.configureDomains;let i;var Y,X;if(i="include"===(null===a||void 0===a?void 0:a.domainAction)&&(null===a||void 0===a||null===(J=a.selectedDomainsList)||void 0===J?void 0:J.length)?!((null===a||void 0===a?void 0:a.selectedDomainsList)||[]).includes(e.substr(e.lastIndexOf("@")+1).trim()):((null===a||void 0===a?void 0:a.selectedDomainsList)||[]).includes(e.substr(e.lastIndexOf("@")+1).trim()),i&&xt.a.isEmail(e.trim()))return U.a.dispatch(Object(F.d)({label:a.domainErrorMessage||"This domain is not acceptable",position:"left",type:"STATEMENT",mid:t})),ee("message",{mid:t,text:a.domainErrorMessage||"This domain is not acceptable",messageBy:"bot"}),Object(te.e)({type:"message",text:a.domainErrorMessage||"This domain is not acceptable",messagedBy:"bot",mid:t,isErrorMessage:!0,questionType:((null===(Y=T)||void 0===Y?void 0:Y.type)||"").toLowerCase(),questionId:null===(X=T)||void 0===X?void 0:X.id}).then().catch(),Object(H.l)(),void Object(H.b)();if(xt.a.isEmail(e.trim())){Object(te.f)({email:e,lead:!0}).then().catch(),U.a.dispatch(Object(L.b)({response:Object(n.a)(Object(n.a)({},I.environment.response),{},{email:e})})),sessionStorage.setItem("attendeeEmail",e);break}return U.a.dispatch(Object(F.d)({label:T.message.error,position:"left",type:"STATEMENT",mid:t})),ee("message",{mid:t,text:T.message.error,messageBy:"bot"}),Object(te.e)({type:"message",text:T.message.error,messagedBy:"bot",mid:t,isErrorMessage:!0,questionType:((null===(G=T)||void 0===G?void 0:G.type)||"").toLowerCase(),questionId:null===(Z=T)||void 0===Z?void 0:Z.id}).then().catch(),Object(H.l)(),void Object(H.b)()}case"PHONE":{var _,$;const a=I.environment.dialCode;if(Bt(T,e)){Object(te.f)({phone:e,prefix:a,lead:!0}).then().catch(),U.a.dispatch(Object(L.b)({response:Object(n.a)(Object(n.a)({},I.environment.response),{},{phone:a+e})}));break}return ee("message",{mid:t,text:T.message.error,messageBy:"bot"}),U.a.dispatch(Object(F.d)({label:T.message.error,position:"left",type:"STATEMENT",mid:t})),Object(te.e)({type:"message",text:T.message.error,messagedBy:"bot",mid:t,isErrorMessage:!0,questionType:((null===(_=T)||void 0===_?void 0:_.type)||"").toLowerCase(),questionId:null===($=T)||void 0===$?void 0:$.id}).then().catch(),Object(H.l)(),void Object(H.b)()}case"NUMBER":var ae,ne;if(xt.a.isNumeric(e.trim()))break;return ee("message",{mid:t,text:T.message.error,messageBy:"bot"}),U.a.dispatch(Object(F.d)({label:T.message.error,position:"left",type:"STATEMENT",mid:t})),Object(te.e)({type:"message",text:T.message.error,messagedBy:"bot",mid:t,isErrorMessage:!0,questionType:((null===(ae=T)||void 0===ae?void 0:ae.type)||"").toLowerCase(),questionId:null===(ne=T)||void 0===ne?void 0:ne.id}).then().catch(),Object(H.l)(),void Object(H.b)();case"NAME":var se,le;if(e.trim().length>=T.maxRange)return ee("message",{mid:t,text:T.message.error,messageBy:"bot"}),U.a.dispatch(Object(F.d)({label:T.message.error,position:"left",type:"STATEMENT",mid:t})),Object(te.e)({type:"message",text:T.message.error,messagedBy:"bot",mid:t,isErrorMessage:!0,questionType:((null===(se=T)||void 0===se?void 0:se.type)||"").toLowerCase(),questionId:null===(le=T)||void 0===le?void 0:le.id}).then().catch(),U.a.dispatch(z({status:!0,value:""})),Object(H.l)(),void Object(H.b)();Object(te.f)({name:e}).then().catch(),U.a.dispatch(Object(L.b)({response:Object(n.a)(Object(n.a)({},I.environment.response),{},{name:e})})),sessionStorage.setItem("name",e);break;case"APPOINTMENT":if(!I.environment.preview&&sessionStorage.getItem("attendeeEmail")&&xt.a.isEmail(sessionStorage.getItem("attendeeEmail"))){const t=new ve.a;await t.post("process-appointment",{email:sessionStorage.getItem("attendeeEmail"),_user:I.environment._user,_bot:I.environment._id,start:new Date(e).toISOString(),end:new Date(new Date(e).setMinutes(new Date(e).getMinutes()+T.appointment.interval)).toISOString()})}break;case"SMART_QUESTION":{let t,a=!1,n=T.options;if(n=n.sort((e,t)=>"contain"===e.keywordType.toLowerCase()?1:-1),n.forEach(n=>{if("exact"===n.keywordType.toLowerCase()&&n.smartKeywords.includes(e))return a=!0,"end"===n.next.target?(U.a.dispatch(z({status:!1})),!1):(t=I.flows[0].questions.findIndex(e=>e.id===n.next.target),et(t),Object(H.l)(),void Object(H.b)());"contain"===n.keywordType.toLowerCase()&&n.smartKeywords.forEach(i=>{if(e.toLowerCase().includes(i.toLowerCase())&&!a)return a=!0,"end"===n.next.target?(U.a.dispatch(z({status:!1})),!1):(t=I.flows[0].questions.findIndex(e=>e.id===n.next.target),void et(t))})}),a)return;if(T.next.target)return"end"===T.next.target?(U.a.dispatch(z({status:!1})),!1):(t=I.flows[0].questions.findIndex(e=>e.id===T.next.target),void et(t));break}default:return Object(H.l)(),void Object(H.b)()}}let ce;U.a.dispatch(Object(L.b)({refresh:I.environment.liveChat,lastQuestion:null===(w=T)||void 0===w?void 0:w.id,skip:!1,back:!1})),(null===(E=T)||void 0===E?void 0:E.includeInLeads)&&Object(te.f)({lead:!0,customParameters:{[T.label]:e}}).then().catch(),Object(H.l)(),Object(H.b)(),O?(ce=I.flows[0].questions.findIndex(e=>e.id===O),-1===ce&&(ce=I.flows[0].questions.findIndex(e=>{var t;return e.id===(null===(t=T)||void 0===t?void 0:t.id)}),ce+=1)):T.next.target?(ce=I.flows[0].questions.findIndex(e=>e.id===T.next.target),-1===ce&&(ce=I.flows[0].questions.findIndex(e=>{var t;return e.id===(null===(t=T)||void 0===t?void 0:t.id)}),ce+=1)):(ce=I.flows[0].questions.findIndex(e=>{var t;return e.id===(null===(t=T)||void 0===t?void 0:t.id)}),ce+=1);const ue=["STATEMENT","IMAGE","CONTACT","VIDEO"];if(!ue.includes(T.label.toUpperCase())&&(localStorage.getItem("questions")||localStorage.setItem("questions",JSON.stringify([])),localStorage.getItem("questions"))){var pe,ge;const t=JSON.parse(localStorage.getItem("questions"));localStorage.setItem("questions",JSON.stringify([...t,{question:T.label,questionId:null===(pe=T)||void 0===pe?void 0:pe.id,answer:e}])),ee("update-user-details",{messages:[...t,{question:T.label,questionId:null===(ge=T)||void 0===ge?void 0:ge.id,answer:"phone"===T.type?I.environment.dialCode+e:e}]})}if("AI"===T.type.toUpperCase()?(U.a.dispatch(z({status:!1,value:""})),U.a.dispatch(Object(L.b)({typing:!0}))):U.a.dispatch(z({status:!0,value:""})),"end"===T.next.target||"end"===O)return U.a.dispatch(z({status:!1})),!1;var he,be,ye,fe,we,Ee,Oe,Te,xe;"AI"===T.type.toUpperCase()&&(S=await je(Object(n.a)(Object(n.a)({_bot:I.environment._id,query:e,hash:"upbu8kseWBhofnorUuICXTmX5",userDetails:{_user:I.environment._user,_agency:I.environment._agency,isKeyConfigured:I.ai.isKeyActive,platform:"website"}},(null===(he=I.ai)||void 0===he?void 0:he.threadId)&&{threadId:null===I||void 0===I||null===(be=I.ai)||void 0===be?void 0:be.threadId}),{},{location:{country:(null===(ye=I.meta)||void 0===ye?void 0:ye.country)||(null===(fe=I.meta)||void 0===fe?void 0:fe.country_name)||"",lat:null===(we=I.meta)||void 0===we?void 0:we.lat,long:null===(Ee=I.meta)||void 0===Ee?void 0:Ee.lon,city:(null===(Oe=I.meta)||void 0===Oe?void 0:Oe.city)||""},aiConfig:Object(n.a)({},T.aiConfig)})),(null===(Te=S)||void 0===Te?void 0:Te.threadId)&&(Object(te.f)({threadId:S.threadId}).then().catch(),U.a.dispatch(re({threadId:S.threadId}))));I.environment.liveChat||et(ce,null===(xe=S)||void 0===xe?void 0:xe.aiResponse)}const Bt=(e,t)=>{var a,n,i,o,s,r,l;const c=null!==(a=null===e||void 0===e||null===(n=e.phoneValidation)||void 0===n?void 0:n.minLength)&&void 0!==a?a:7,d=null!==(i=null===e||void 0===e||null===(o=e.phoneValidation)||void 0===o?void 0:o.maxLength)&&void 0!==i?i:15,u=null===(s=U.a.getState().environment)||void 0===s?void 0:s.phoneNumberMaxLength,p=null===(r=null===e||void 0===e||null===(l=e.phoneValidation)||void 0===l?void 0:l.isEnabled)||void 0===r||r;return(!p||Number(u)===Number(t.length))&&(p?xt.a.isMobilePhone(t):t.length>=c&&t.length<=d)};class Dt extends o.a.Component{constructor(){super(...arguments),this.skip=async()=>{await Rt("Skip","Skip")},this.back=async()=>{await Rt("Back","Back",this.props.environment.lastQuestion)}}render(){const{classes:e}=this.props;return o.a.createElement("div",{className:e.skipBack},this.props.environment.back?o.a.createElement(It.a,{onClick:this.back,size:"small",color:"primary",className:e.button,variant:"outlined"},"Back"):null,this.props.environment.skip?o.a.createElement(It.a,{onClick:this.skip,size:"small",color:"primary",className:e.button,variant:"outlined"},"Skip"):null)}}var qt=Object(c.b)(e=>({environment:e.environment}),{})(Object(l.a)(()=>({skipBack:{textAlign:"center"},button:{margin:5,borderRadius:20}}))(Dt)),kt=a(836),Mt=a(850),Ut=a(212),Ht=a.n(Ut),Pt=a(349),Kt=a.n(Pt),Ft=(a(758),a(211)),Vt=a.n(Ft),Lt=a(214),Wt=a(833),Qt=a(848),Jt=a(844),zt=a(843),Gt=a(837),Zt=a(348),Yt=a.n(Zt);const Xt=Object(b.a)(()=>({select:{minWidth:"100px","& .MuiSelect-select:focus":{backgroundColor:"#fff"}},inputLabel:{"&.MuiInputLabel-formControl":{top:"-15px"}},formControl:{"& > label + .MuiInput-formControl":{marginTop:"0px"}},menuPaper:{maxHeight:"300px",maxWidth:"120px",borderRadius:8}})),_t=()=>{var e,t,a,s,r,l,c,d,u,p,A;const[g,h]=Object(i.useState)({allCountry:[],flags:{}}),v=Xt(),b=U.a.getState(),y=b.environment.activeQuestion||"",f=b.environment.dialCode?"+".concat(b.environment.dialCode):"",w=null===b||void 0===b||null===(e=b.environment)||void 0===e?void 0:e.direction,E=y.id,O=b.environment.countries||[];Object(i.useEffect)(()=>{var e,t;let a=null===y||void 0===y||null===(e=y.defaultDialCode)||void 0===e?void 0:e.dialCode.replace(/\+/g,"").trim(),i=null===(t=O.find(e=>{var t;return e.dial_code===(null===y||void 0===y||null===(t=y.defaultDialCode)||void 0===t?void 0:t.dialCode)}))||void 0===t?void 0:t.characters;if(!a||!i){var o,s,r;let e;try{var l;e=null===(l=JSON.parse(localStorage.getItem("BotPenguin-location")))||void 0===l?void 0:l.countryCode}catch(c){e=""}a=(null===(o=O.find(t=>t.code===e))||void 0===o||null===(s=o.dial_code)||void 0===s?void 0:s.replace(/\+/g,"").trim())||"",i=(null===(r=O.find(t=>t.code===e))||void 0===r?void 0:r.characters)||"10"}Object.keys(g.flags).length||async function(){const e={};return await Promise.all(O.map(async t=>{const a="".concat("https://cdn.botpenguin.com","/flags/").concat(t.code.toLowerCase(),".svg");e[t.code.toLowerCase()]=a})),e}().then(e=>{h(t=>Object(n.a)(Object(n.a)({},t),{},{flags:e,allCountry:O}))}),U.a.dispatch(Object(L.b)({dialCode:a,phoneNumberMaxLength:i}))},["phone"===b.environment.activeQuestion.type,E]);return o.a.createElement(i.Fragment,null,Object.keys((null===g||void 0===g?void 0:g.flags.length)>0)&&(null===g||void 0===g?void 0:g.allCountry.length)>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Wt.a,{variant:"standard",fullWidth:!0,className:v.formControl},o.a.createElement(Qt.a,{className:v.inputLabel,style:{display:(null===(t=b.environment.activeQuestion)||void 0===t||null===(a=t.defaultDialCode)||void 0===a?void 0:a.dialCode)||(null===(s=b.environment)||void 0===s?void 0:s.dialCode)?"none":"block"}},"Select"),o.a.createElement(Jt.a,{className:v.select,key:(null===(r=b.environment.activeQuestion)||void 0===r||null===(l=r.defaultDialCode)||void 0===l?void 0:l.dialCode)?null===(c=b.environment.activeQuestion)||void 0===c||null===(d=c.defaultDialCode)||void 0===d?void 0:d.dialCode:null===b||void 0===b||null===(u=b.environment)||void 0===u?void 0:u.dialCode,variant:"standard",onChange:e=>{var t;const a=e.target.value.replace(/\+/g,"").trim(),i=null===(t=O.find(t=>t.dial_code===e.target.value))||void 0===t?void 0:t.characters;U.a.dispatch(Object(L.b)({dialCode:a,phoneNumberMaxLength:i})),h(e=>Object(n.a)(Object(n.a)({},e),{},{allCountry:O}))},inputProps:{"aria-label":"Select Country"},disableUnderline:!0,defaultValue:(null===(p=b.environment.activeQuestion)||void 0===p||null===(A=p.defaultDialCode)||void 0===A?void 0:A.dialCode)||f,MenuProps:{classes:{paper:v.menuPaper}}},o.a.createElement(zt.a,{paddingX:"8px"},o.a.createElement(Mt.a,{variant:"standard",autoFocus:!0,InputProps:{disableUnderline:!0,startAdornment:o.a.createElement(kt.a,{position:"start"},o.a.createElement(Yt.a,{color:"action"}))},placeholder:"Search..",onChange:e=>{const t=e.target.value.toLowerCase(),a=O.filter(e=>e.name.toLowerCase().includes(t)||e.dial_code.includes(t));if(!(a||[]).length)return!1;h(e=>Object(n.a)(Object(n.a)({},e),{},{allCountry:a}))},fullWidth:!0,onClick:e=>e.stopPropagation()})),((null===g||void 0===g?void 0:g.allCountry)||[]).map(e=>o.a.createElement(Gt.a,{key:e.code,value:e.dial_code},o.a.createElement(zt.a,{display:"flex",justifyContent:"space-around",alignItems:"center"},o.a.createElement("img",{src:null===g||void 0===g?void 0:g.flags[e.code.toLowerCase()],alt:e.label,style:{marginRight:8,width:24,height:16}}),o.a.createElement(m.a,{style:{color:"#000"}},e.label," ",e.dial_code)))))),o.a.createElement("div",{style:Object(n.a)({height:"16px",borderRadius:"8px",border:"2px solid #ccc"},"rtl"===w&&{marginLeft:"8px"})})))};class $t extends o.a.Component{constructor(e){super(e),this.whitelabel=U.a.getState(),this.toggleEmoji=()=>{this.setState(e=>({emoji:!e.emoji}))},this.chooseEmoji=e=>{this.props.updateTextInput({value:this.props.textInput.value+e.native})},this.focus=()=>{},this.handleChange=e=>{var t;this.setState({text:e.target.value}),this.props.updateTextInput({value:e.target.value}),localStorage.getItem("agentId")&&(t={uuid:this.props.environment.uuid,advanceMessage:e.target.value},$&&clearTimeout($),$=setTimeout(()=>{localStorage.getItem("agentId")&&Z.emit("adv-message",{uuid:t.uuid,advanceMessage:t.advanceMessage,agent:localStorage.getItem("agentId")})},500))},this.keyDown=e=>{"Enter"===e.key&&this.send(),this.setState({emoji:!1})},this.send=()=>{""!==this.props.textInput.value.trim()&&(Rt(this.props.textInput.value,this.props.textInput.original),this.setState({emoji:!1}))},this.isPoweredBy=()=>{var e,t,a,n,i,o;return!["WHITE_LABEL","SP_IMPLEMENTATION"].includes(this.props.environment.agencyData.type)||((null===(e=this.props.environment.agencyData)||void 0===e||null===(t=e.isAgencyConfigurationEnabled)||void 0===t?void 0:t.poweredBy)&&(null===(a=this.props)||void 0===a||null===(n=a.environment)||void 0===n||null===(i=n.agencyData)||void 0===i||null===(o=i.meta)||void 0===o?void 0:o.poweredBy)||!1)},this.getAgencyMeta=e=>{var t,a,n,i,s;const r=["WHITE_LABEL","SP_IMPLEMENTATION"].includes(this.props.environment.agencyData.type);switch(e){case"websiteUrl":return r?(null===(t=this.props.environment.agencyData.meta)||void 0===t?void 0:t.websiteUrl)||"":"https://botpenguin.com/?utm_source=referral&utm_medium=".concat(window.location.host,"&utm_campaign=chat_window");case"poweredBy":return r?(null===(a=this.props)||void 0===a||null===(n=a.environment)||void 0===n||null===(i=n.agencyData)||void 0===i||null===(s=i.meta)||void 0===s?void 0:s.poweredBy)||"":o.a.createElement("span",null," Chat ",o.a.createElement(Kt.a,{className:this.props.classes.icon})," by BotPenguin ");default:return""}},this.restartChat=()=>{var e,t;pt(!0),U.a.dispatch(Object(L.b)({selectedTags:[]}));const{clearChatOnRestart:a}=null===(e=U.a.getState())||void 0===e||null===(t=e.configuration)||void 0===t?void 0:t.chatMenu;a&&U.a.dispatch(Object(F.f)())},this.startLiveChat=()=>{ct()},this.transferToBot=()=>{pt()},this.transferToWhatsapp=()=>{mt()},this.state={text:"",emoji:!1},this.timeout=null,window.inputRef=o.a.createRef()}componentDidMount(){}render(){var e,t;return(null===(e=this.props.environment.whitelabel)||void 0===e?void 0:e.active)||(null===(t=this.props.environment.whitelabel)||void 0===t?void 0:t.byAgency)?this.displayWhitelabled():this.displayBasic()}displayWhitelabled(){var e,t,a,n;const{classes:i}=this.props,{activeQuestion:s,isLanding:r}=U.a.getState().environment,{hideMessengerHeader:l}=U.a.getState().design,c=null===(e=U.a.getState())||void 0===e||null===(t=e.environment)||void 0===t?void 0:t.direction,d=null===(a=this.props.environment)||void 0===a?void 0:a.chatMenu.isCustomResponsePlaceholderEnabled;return o.a.createElement("div",{className:i.root},o.a.createElement(Mt.a,{inputRef:window.inputRef,onClick:this.focus,disabled:!this.props.textInput.status,className:i.input,fullWidth:!0,id:"inputMessage",variant:"outlined",placeholder:this.props.textInput.status&&d?(null===(n=this.props.environment)||void 0===n?void 0:n.chatMenu.placeholder)||"Type your answer":"",type:"text",value:this.props.textInput.value,onKeyUp:e=>this.keyDown(e),onChange:e=>this.handleChange(e),InputProps:{startAdornment:"phone"===(null===s||void 0===s?void 0:s.type)&&o.a.createElement(kt.a,{position:"start"},o.a.createElement(_t,null)),endAdornment:o.a.createElement(kt.a,{position:"end"},l&&r&&o.a.createElement(p.a,{edge:"end",color:"primary"},o.a.createElement(bt,{restartChat:this.restartChat,startLiveChat:this.startLiveChat,liveChat:U.a.getState().environment.liveChat,transferToWhatsapp:this.transferToWhatsapp,transferToBot:this.transferToBot})),o.a.createElement(p.a,{disabled:!this.props.textInput.status,edge:"end","aria-label":"Emoji picker",onClick:this.toggleEmoji,color:"primary"},o.a.createElement("img",{src:Vt.a,alt:"emoji"})),o.a.createElement(p.a,{disabled:!1,edge:"end","aria-label":"toggle password visibility",onClick:this.send,color:"primary",style:{transform:"rtl"===c&&"rotate(180deg)"}},o.a.createElement(Ht.a,null)))}}),this.state.emoji?o.a.createElement(Lt.a,{title:"Choose emoji",style:{position:"fixed",bottom:"77px",["ltr"===c?"right":"left"]:"10px"},onSelect:e=>this.chooseEmoji(e)}):"")}displayBasic(){var e,t,a,n;const{classes:i}=this.props,{activeQuestion:s,isLanding:r}=U.a.getState().environment,{hideMessengerHeader:l}=U.a.getState().design,c=null===(e=U.a.getState())||void 0===e||null===(t=e.environment)||void 0===t?void 0:t.direction,d=null===(a=this.props.environment)||void 0===a?void 0:a.chatMenu.isCustomResponsePlaceholderEnabled;return o.a.createElement("div",{className:i.root,style:{height:"86px"}},o.a.createElement(Mt.a,{inputRef:window.inputRef,onClick:this.focus,disabled:!this.props.textInput.status,className:i.input,fullWidth:!0,id:"inputMessage",variant:"outlined",placeholder:this.props.textInput.status&&d?(null===(n=this.props.environment)||void 0===n?void 0:n.chatMenu.placeholder)||"Type your answer":"",type:"text",value:this.props.textInput.value,onKeyUp:e=>this.keyDown(e),onChange:e=>this.handleChange(e),InputProps:{startAdornment:"phone"===(null===s||void 0===s?void 0:s.type)&&o.a.createElement(kt.a,{position:"start"},o.a.createElement(_t,null)),endAdornment:o.a.createElement(kt.a,{position:"end"},l&&r&&o.a.createElement(p.a,{edge:"end",color:"primary"},o.a.createElement(bt,{restartChat:this.restartChat,startLiveChat:this.startLiveChat,liveChat:U.a.getState().environment.liveChat,transferToWhatsapp:this.transferToWhatsapp,transferToBot:this.transferToBot,position:"bottom"})),o.a.createElement(p.a,{disabled:!this.props.textInput.status,edge:"end","aria-label":"Emoji picker",onClick:this.toggleEmoji,color:"primary"},o.a.createElement("img",{src:Vt.a,alt:"emoji"})),o.a.createElement(p.a,{disabled:!1,edge:"end","aria-label":"toggle password visibility",onClick:this.send,color:"primary",style:{transform:"rtl"===c&&"rotate(180deg)"}},o.a.createElement(Ht.a,null)))}}),this.state.emoji?o.a.createElement(Lt.a,{title:"Choose emoji",style:{position:"fixed",bottom:"77px",["ltr"===c?"right":"left"]:"10px"},onSelect:e=>this.chooseEmoji(e)}):"",this.isPoweredBy()&&o.a.createElement(Et.a,{elevation:0,component:"div",className:i.powered,style:{}},o.a.createElement(m.a,{component:"p",style:{fontSize:14,color:"#1661f5",display:"block"}},o.a.createElement("a",{href:this.getAgencyMeta("websiteUrl"),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"#1661f5"}},this.getAgencyMeta("poweredBy"))),o.a.createElement("p",null)))}}var ea=Object(c.b)(e=>({textInput:e.text,translation:e.translation,environment:e.environment}),{updateTextInput:z})(Object(l.a)(e=>({root:{display:"flex",flexWrap:"wrap",position:"fixed",bottom:0,width:"100%",background:"white",borderTop:"1px solid  ".concat(e.palette.primary.main)},powered:{padding:3,width:"100%",right:0,textAlign:"center",fontSize:12},icon:{verticalAlign:"middle",fill:"#FFC107",fontSize:"1.2rem"},input:{border:"none !important",fontWeight:600,color:"#ccc"}}))($t)),ta=a(7),aa=a(350),na=a.n(aa),ia=a(352),oa=a.n(ia),sa=a(351),ra=a.n(sa),la=a(353),ca=a.n(la);const da=Object(b.a)(e=>({root:{padding:e.spacing(1,2),margin:10,marginLeft:0,marginRight:0,width:"fit-content",maxWidth:"60%",wordBreak:"break-word"},left:e=>({borderRadius:"ltr"===e.direction?"20px 20px 20px 2px":"20px 20px 2px 20px",color:"#000000",background:"rgb(245, 245, 245)",position:"relative"}),right:t=>({borderRadius:"ltr"===t.direction?"20px 20px 2px 20px":"20px 20px 20px 2px",["ltr"===t.direction?"marginRight":"marginLeft"]:"10px",["ltr"===t.direction?"marginLeft":"marginRight"]:"auto",background:e.palette.primary.main,color:e.palette.text.primary}),div:{display:"flex"},image:{height:20,padding:0,margin:"auto",verticalAlign:"middle"},feedback:{width:"60px",height:"40px",position:"absolute",right:"10px",bottom:"-30px",display:"flex","align-items":"center","justify-content":"space-around"}}));function ua(e){const[t,a]=o.a.useState(e.hasClickedThumbsUp||!1),[n,i]=o.a.useState(e.hasClickedThumbsDown||!1),s=Object(c.c)(e=>{var t;return null===e||void 0===e||null===(t=e.environment)||void 0===t?void 0:t.direction}),r=da({direction:s});let{position:l,text:d,shouldFeedbackVisible:u,mid:p}=e;const A=e=>{Object(te.d)(e).catch(e=>console.log(e))},g=e=>{"thumbsUp"===e?(a(!0),i(!1),A({mid:p,hasClickedThumbsUp:!0,hasClickedThumbsDown:!1})):(a(!1),i(!0),A({mid:p,hasClickedThumbsUp:!1,hasClickedThumbsDown:!0}))};return o.a.createElement("div",{className:r.div},"right"===l?"":o.a.createElement(w,{avatar:e.avatar,small:!0}),o.a.createElement(Et.a,{elevation:0,className:Object(ta.a)(r.root,"right"===l?r.right:r.left)},"right"!==l&&u&&o.a.createElement("div",{className:r.feedback},t?o.a.createElement(na.a,{style:{color:"#707070",cursor:"pointer",width:"16px"},onClick:()=>g("thumbsUp")}):o.a.createElement(ra.a,{style:{color:"#999999",cursor:"pointer",width:"16px"},onClick:()=>g("thumbsUp")}),n?o.a.createElement(oa.a,{style:{color:"#707070",cursor:"pointer",width:"16px"},onClick:()=>g("thumbsDown")}):o.a.createElement(ca.a,{style:{color:"#999999",cursor:"pointer",width:"16px"},onClick:()=>g("thumbsDown")})),u?o.a.createElement(m.a,{component:"pre",style:{whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:(e=>({__html:(e||"").replace(/(?:(?![\w.+-]+@[\w-]+\.[\w-.]+)(?:https?:\/\/(?:www\.)?\S+)|(?:www\.\S+))/g,e=>(e.match(/^https?:\/\//i)||(e="https://"+e),e=e.replace(/\.$/,""),'<a href="'.concat(e,'" target="_blank">').concat(e,"</a>")))}))(d)}):o.a.createElement(m.a,{component:"pre",style:{whiteSpace:"pre-wrap"}}," ",d," ")))}class pa extends o.a.Component{constructor(e){super(e),this.showOptions=()=>{this.setState({show:!0})},this.getNewActiveQuestionById=(e,t)=>(e||[]).find(e=>e.id===t),this.selectOption=(e,t,a,n,i)=>{if("live_chat"===a){const e=U.a.getState(),a=this.getNewActiveQuestionById(e.flows[0].questions,t);U.a.dispatch(Object(L.b)({liveChat:!0,activeQuestion:a,activeQuestionType:null===a||void 0===a?void 0:a.type})),ct()}if(null===i||void 0===i?void 0:i.length){var o;const e=(null===(o=U.a.getState().environment)||void 0===o?void 0:o.selectedTags)||[];U.a.dispatch(Object(L.b)({selectedTags:[...e,...i]}))}Rt(e,n||e,t)},this.getApiButtons=async()=>{try{const e=U.a.getState(),{apiConfiguration:t,next:a}=this.props.activeQuestion,{response:i}=await Object(H.n)(this.props.activeQuestion);if(Object.keys(i||{}).length){let o=Object(H.a)(i,t.title,t.value,a);this.setState({buttons:o||this.props.activeQuestion.options});const s=[...e.flows[0].questions],r=s.findIndex(e=>e.id===this.props.activeQuestion.id);s[r]=Object(n.a)(Object(n.a)({},s[r]),{},{options:o}),U.a.dispatch(J(s))}else this.setState({buttons:this.props.activeQuestion.options})}catch(e){console.log("err",e),this.setState({buttons:this.props.activeQuestion.options})}finally{Object(H.l)(),this.showOptions()}},this.state={buttons:[],show:!1,activeQuestion:{}},this._isMounted=!1}componentDidMount(){var e,t,a;this._isMounted=!0,"button"===this.props.activeQuestion.type&&(null===(e=this.props.activeQuestion)||void 0===e||null===(t=e.apiConfiguration)||void 0===t?void 0:t.isEnabled)&&(null===(a=this.props.activeQuestion)||void 0===a?void 0:a.apiId)?this.getApiButtons():this.showOptions()}componentWillUnmount(){this._isMounted=!1}render(){var e;const{classes:t,text:a}=this.props;return o.a.createElement(o.a.Fragment,null," ",this.state.show?o.a.createElement(o.a.Fragment,null,o.a.createElement(ua,{avatar:this.props.avatar,text:a||"Select a button",theme:this.props.theme,color:this.props.color}),o.a.createElement("div",{style:{marginLeft:40}},((null===(e=this.props.activeQuestion)||void 0===e?void 0:e.apiId)&&this.props.activeQuestion.apiConfiguration&&this.props.activeQuestion.apiConfiguration.isEnabled?this.state.buttons:this.props.buttons).map((e,a)=>o.a.createElement(It.a,{onClick:t=>{var a;this.selectOption(e.value,e.next.target||null,e.next.type||null,e.mappedValue,null===e||void 0===e||null===(a=e.actionBasedChatResponse)||void 0===a?void 0:a.tagIds)},key:a,variant:"outlined",color:"primary","aria-label":"add",className:t.margin,size:"medium"},o.a.createElement(m.a,null,e.value))))):o.a.createElement(St,{avatar:this.props.avatar}))}}var ma=Object(c.b)(e=>({}),{})(Object(l.a)(()=>({margin:{margin:2,borderRadius:20,textTransform:"none"}}))(pa));class Aa extends o.a.Component{constructor(e){super(e),this.selectOption=e=>{this.state.selected.includes(e)?(this.setState({selected:this.state.selected.filter(t=>t!==e)}),this.props.updateTextInput({value:this.state.selected.filter(t=>t!==e).join(", ")})):(this.setState({selected:[...this.state.selected,e]}),this.props.updateTextInput({value:[...this.state.selected,e].join(", ")}))},this.state={buttons:["one","two"],show:!0,selected:[]}}render(){const{classes:e,text:t}=this.props;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ua,{avatar:this.props.avatar,theme:this.props.theme,color:this.props.color,text:t||"Choose your favourites"}),o.a.createElement("div",{style:{marginLeft:40}},this.props.buttons.map((t,a)=>o.a.createElement(It.a,{onClick:()=>this.selectOption(t.value),key:a,variant:this.state.selected.includes(t.value)?"contained":"outlined",color:"primary",style:{color:this.state.selected.includes(t.value)?this.props.design.textColor:this.props.design.themeColor},"aria-label":"add",size:"medium",className:e.margin},o.a.createElement(m.a,null,t.value)))))}}var ga=Object(c.b)(e=>({design:e.design}),{updateTextInput:z})(Object(l.a)(()=>({margin:{margin:2,borderRadius:20,textTransform:"none"}}))(Aa)),ha=a(851);const va=Object(b.a)({root:{width:"65%",margin:10},value:{textAlign:"center"}});var ba=Object(c.b)(null,{updateTextInput:z})((function(e){var t,a;const n=va(),[i,s]=o.a.useState([e.min,e.max]),r=null===(t=U.a.getState())||void 0===t||null===(a=t.environment)||void 0===a?void 0:a.direction;return e.updateTextInput({status:!1,value:"".concat(e.min," - ").concat(e.max)}),o.a.createElement("div",null,o.a.createElement(ua,{avatar:e.avatar,text:e.text||"Select your Range"}),o.a.createElement(ha.a,{getAriaValueText:(t,a)=>{0===a?e.updateTextInput({status:!1,value:"".concat(t," - ").concat(i[1])}):e.updateTextInput({status:!1,value:"".concat(i[0]," - ").concat(t)})},style:{marginLeft:40},className:n.root,value:i,onChange:(t,a)=>{s(a),e.updateTextInput({status:!1,value:"".concat(i[0]," - ").concat(i[1])})},valueLabelDisplay:"off",min:e.min||0,max:e.max||100,step:e.step||1,color:"primary"}),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{marginLeft:30}},e.pre," ",o.a.createElement("span",{style:{color:"var(--primary-theme-color)"}},e.min)),o.a.createElement("div",{style:"rtl"===r?{marginRight:"55%"}:{marginLeft:"60%"}},e.post," ",o.a.createElement("span",{style:{color:"var(--primary-theme-color)"}},e.max))))})),ya=a(838),fa=a(839);const wa=Object(b.a)(()=>({card:{margin:10},media:{height:0,paddingTop:"56.25%"},title:{fontSize:10}}));function Ea(e){const t=wa();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ua,{avatar:e.avatar,text:e.text}),o.a.createElement(ya.a,{elevation:0,className:t.card},o.a.createElement(fa.a,{className:t.media,image:e.image})))}var Oa=a(370),Ca=(a(761),a(840));class Sa extends o.a.Component{constructor(e){super(e),this.chooseDate=e=>{this.setState({calender:!1,time:!!this.props.time,slots:!!this.props.slots,selectedTimeOriginal:+new Date(e),selectedTimeValue:new Date(e).toLocaleDateString(this.props.configuration.generalSettings.language)}),this.props.time||this.props.updateEnvironment({dateTime:!1}),this.props.slots||this.props.updateEnvironment({dateTime:!1}),this.setState({dateString:new Date(e).toDateString()}),this.props.updateTextInput({value:String(new Date(e).toDateString()+(this.props.time?String(" "+this.state.currentHour+":"+this.state.currentMinute+" "+this.state.script):"")),original:this.props.time?String(new Date(e).toDateString()+(this.props.time?String(" "+this.state.currentHour+":"+this.state.currentMinute+" "+this.state.script):"")):+new Date(e)})},this.chooseSlot=e=>{this.setState({calender:!1,time:!1,slots:!1}),this.props.updateEnvironment({dateTime:!1});let t=new Date(this.state.selectedTimeOriginal);this.props.updateTextInput({value:t.toDateString()+" "+e,original:t.toDateString()+" "+e})},this.openCalender=()=>{this.props.updateEnvironment({dateTime:!0}),this.setState({calender:!0})},this.onRender=e=>{let{activeStartDate:t,date:a,view:n}=e;return!(this.props.availableDays.length?this.props.availableDays:[0,1,2,3,4,5,6]).includes(a.getDay())},this.getStartEndTime=()=>{let e=this.props.startTime,t=this.props.endTime;return e.match(/AM/)?e=parseInt(e.split(":")[0]):(e=parseInt(e.split(":")[0]),12===e?e=0:e+=12),t.match(/AM/)?t=parseInt(t.split(":")[0]):(t=parseInt(t.split(":")[0]),12===t?t=0:t+=12),{start:60*e,end:60*t}},this.setTime=()=>{this.props.updateTextInput({value:String(this.state.dateString+(this.props.time?String(" "+this.state.currentHour+":"+this.state.currentMinute+" "+this.state.script):"")),original:String(this.state.dateString+(this.props.time?String(" "+this.state.currentHour+":"+this.state.currentMinute+" "+this.state.script):""))})},this.handleChangeTime=(e,t)=>{switch(e){case"hour":t>12?this.setState({currentHour:1}):t<1?this.setState({currentHour:12}):this.setState({currentHour:t});break;case"minute":t>59?this.setState({currentMinute:0}):t<0?this.setState({currentMinute:59}):this.setState({currentMinute:t});break;case"script":this.setState({script:t})}setTimeout(()=>{this.setTime()},300)},this.state={calender:!1,time:!1,slots:!1,selectedTimeValue:"",selectedTimeOriginal:"",currentHour:((new Date).getHours()+24)%12||12,currentMinute:(new Date).getMinutes(),script:(new Date).getHours()>=12?"PM":"AM",dateString:""}}render(){const{classes:e}=this.props;let t,a,n;if(this.props.slots){t=this.getStartEndTime().end,a=this.getStartEndTime().start;let e=!1;if(a>t){e=!0;let n=a;a=t,t=n}n=Object.values(Object(H.k)([[0,a],[t,5e3]],!0,this.props.slotInteval)),e&&n.reverse()}return o.a.createElement(o.a.Fragment,null,o.a.createElement(ua,{text:this.props.text,avatar:this.props.avatar}),o.a.createElement(It.a,{onClick:this.openCalender,style:{marginLeft:50,textTransform:"none",fontWeight:"bolder",borderRadius:30,color:this.props.design.textColor},variant:"contained",color:"primary"},"Open Calender"),o.a.createElement(Ca.a,{direction:"up",in:this.state.calender,timeout:500},o.a.createElement(Oa.a,{tileDisabled:this.onRender,minDate:this.props.min,maxDate:this.props.max,onClickDay:this.chooseDate,className:e.dateTime,locale:this.props.configuration.generalSettings.language})),this.props.time?o.a.createElement(Ca.a,{direction:"up",in:this.state.time,timeout:500},o.a.createElement("div",{className:e.dateTime},o.a.createElement("h2",{style:{textAlign:"center"}},"Select time"),o.a.createElement("div",{className:e.time},o.a.createElement("div",{className:e.hour},o.a.createElement("span",{onClick:()=>this.handleChangeTime("hour",this.state.currentHour+1),className:"material-icons"},"keyboard_arrow_up"),o.a.createElement("span",null,this.state.currentHour),o.a.createElement("span",{onClick:()=>this.handleChangeTime("hour",this.state.currentHour-1),className:"material-icons"},"keyboard_arrow_down")),o.a.createElement("div",{className:e.minute},o.a.createElement("span",{onClick:()=>this.handleChangeTime("minute",this.state.currentMinute+1),className:"material-icons"},"keyboard_arrow_up"),o.a.createElement("span",null,this.state.currentMinute),o.a.createElement("span",{onClick:()=>this.handleChangeTime("minute",this.state.currentMinute-1),className:"material-icons"},"keyboard_arrow_down")),o.a.createElement("div",{className:e.ampm},o.a.createElement("span",{onClick:()=>this.handleChangeTime("script","AM"===this.state.script?"PM":"AM"),className:"material-icons"},"keyboard_arrow_up"),o.a.createElement("span",null,this.state.script),o.a.createElement("span",{onClick:()=>this.handleChangeTime("script","AM"===this.state.script?"PM":"AM"),className:"material-icons"},"keyboard_arrow_down"))))):null,this.props.slots?o.a.createElement(Ca.a,{direction:"up",in:this.state.slots,timeout:500},o.a.createElement("div",{className:e.dateTime,style:{textAlign:"center"}},o.a.createElement("h4",{style:{margin:10}},"Choose a time slot"),n.map((t,a)=>o.a.createElement(It.a,{onClick:()=>this.chooseSlot(t),className:e.slot,key:a,variant:"outlined",color:"primary"},t)))):null)}}var Ia=Object(c.b)(e=>({configuration:e.configuration,design:e.design}),{updateEnvironment:L.b,updateTextInput:z})(Object(l.a)(e=>({dateTime:{width:"100%",height:"height: calc(100% - 151px);",border:"none",position:"fixed",top:65,bottom:85,background:"#ffffff",overflowY:"auto"},slots:{margin:10},slot:{margin:5,borderRadius:50},time:{display:"flex",minHeight:"70%",alignItems:"center",justifyContent:"space-evenly",fontSize:"20px"},hour:{border:"1px solid #ccc",padding:"15px",borderRadius:"10px",display:"grid",textAlign:"center"},ampm:{border:"1px solid #ccc",padding:"15px",borderRadius:"10px",display:"grid",textAlign:"center"},minute:{border:"1px solid #ccc",padding:"15px",borderRadius:"10px",display:"grid",textAlign:"center"}}))(Sa)),Ta=a(354),xa=a.n(Ta),ja=a(355),Na=a.n(ja),Ra=a(356),Ba=a.n(Ra),Da=a(357),qa=a.n(Da),ka=a(358),Ma=a.n(ka),Ua=a(359),Ha=a.n(Ua),Pa=a(360),Ka=a.n(Pa),Fa=a(361),Va=a.n(Fa),La=a(362),Wa=a.n(La),Qa=a(363),Ja=a.n(Qa),za=a(364),Ga=a.n(za),Za=a(365),Ya=a.n(Za),Xa=a(366),_a=a.n(Xa);class $a extends o.a.Component{constructor(e){super(e),this.selectOption=(e,t)=>{window.open(this.state.links[t]+e,"_blank")},this.state={buttons:["option 1","option 2","option 3","option 4","option 5","option 6"],show:!0,icon:{email:Na.a,github:Ba.a,instagram:qa.a,link:Ma.a,linkedin:Ha.a,skype:Ka.a,phone:Va.a,twitter:Wa.a,youtube:Ja.a,whatsapp:B.a,messenger:Ga.a,facebook:xa.a,telegram:Ya.a,snapchat:_a.a},links:{email:"mailto:",github:"https://github.com/",instagram:"https://www.instagram.com/",link:"",linkedin:"https://www.linkedin.com/in/",skype:"https://join.skype.com/invite /",phone:"tel:",twitter:"https://twitter.com/",youtube:"",whatsapp:"https://wa.me/",messenger:"https://m.me/",facebook:"https://facebook.com/",telegram:"https://t.me/",snapchat:"https://snapchat.com/add/"}}}render(){var e,t;const{classes:a,text:n}=this.props,i=null===(e=U.a.getState())||void 0===e||null===(t=e.environment)||void 0===t?void 0:t.direction;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ua,{avatar:this.props.avatar,text:n||"Contact Us"}),o.a.createElement("div",{style:"rtl"===i?{marginRight:40}:{marginLeft:40}},this.props.buttons.map((e,t)=>o.a.createElement(It.a,{onClick:t=>{this.selectOption(e.value,e.type)},key:t,variant:"outlined",color:"primary","aria-label":"add",className:a.margin,size:"small",style:{color:"black"},startIcon:o.a.createElement("img",{alt:e.type,className:a.icon,src:this.state.icon[e.type]})},o.a.createElement(m.a,null,e.title)))))}}var en=Object(c.b)(null,{})(Object(l.a)(e=>({margin:{margin:2,borderRadius:10,paddingRight:15,textTransform:"none"},icon:{width:20}}))($a)),tn=a(367),an=a.n(tn);var nn=Object(l.a)(()=>({root:{margin:10,width:"auto !important"}}))((function(e){const{classes:t}=e;return o.a.createElement("div",null,o.a.createElement(ua,{avatar:e.avatar,text:e.text,color:e.color,theme:e.theme}),o.a.createElement(an.a,{className:t.root,url:e.url,controls:!0,playing:!1,width:"auto",config:{youtube:{playerVars:{origin:window.location.origin}}}}))}));class on extends o.a.Component{constructor(e){super(e),this.selectOption=e=>{Rt(e,e,null)},this.state={buttons:["&#128545;","&#128542;","&#128528;","&#128522;","&#128525;"],show:!0}}render(){const{classes:e,text:t}=this.props;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ua,{avatar:this.props.avatar,text:t||"Select a button",theme:this.props.theme,color:this.props.color}),o.a.createElement("div",{style:{marginLeft:40}},this.props.buttons.map((t,a)=>o.a.createElement(It.a,{onClick:()=>{this.selectOption(t)},key:a,variant:"outlined",color:"primary","aria-label":"add",className:e.margin,size:"medium"},o.a.createElement("div",{className:e.smiles,dangerouslySetInnerHTML:{__html:this.state.buttons[a]}}),"\xa0",o.a.createElement(m.a,null,t)))))}}var sn=Object(c.b)(e=>({config:e.config}),{newMessage:F.d,updateMessage:F.g})(Object(l.a)(()=>({margin:{margin:2,borderRadius:20,textTransform:"none",padding:"0px 10px"},smiles:{fontSize:25}}))(on));const rn=Object(b.a)({textCenter:{textAlign:"center"},contentCenter:{width:"100%",margin:"0 auto"},content:{marginTop:"0",color:"#707070",fontSize:"14px",textAlign:"center"}});function ln(e){const t=rn();return o.a.createElement("div",{className:t.contentCenter},o.a.createElement("p",{className:t.content},e.text))}const cn=Object(b.a)({textCenter:{textAlign:"center"},contentCenter:{width:"100%",margin:"0 auto"},heading:{fontSize:"16px",textTransform:"capitalize",fontWeight:"800",marginBottom:"0"},headingBlue:{color:"#118CFC",fontSize:"16px",textTransform:"capitalize",fontWeight:"800",marginBottom:"0"},headingOrange:{color:"#D16B13",fontSize:"16px",textTransform:"capitalize",fontWeight:"800",marginBottom:"0"},content:{marginTop:"0",color:"#707070",fontSize:"14px"}});function dn(e){const t=cn(),a=e.dynamicColor&&e.primaryColor,n=e.dynamicColor&&e.secondaryColor;return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.textCenter},o.a.createElement("div",{className:t.contentCenter},a?o.a.createElement("h4",{className:t.heading,style:{color:e.primaryColor}},e.title," "):"blue"===e.color?o.a.createElement("h4",{className:t.headingBlue},e.title," "):o.a.createElement("h4",{className:t.headingOrange},e.title," "),o.a.createElement("p",{className:t.content,style:{color:n&&e.secondaryColor}},e.text)))))}const un={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},pn={15:"quarter",10:"tenth",30:"half",60:"one",90:"one-half",120:"two"};var mn=a(22),An=a.n(mn),gn=a(849),hn=a(841);const vn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"document";switch(e){case"image":return".jpg,.jpeg,.png,.svg";case"video":return".mp4";case"document":default:return".pdf,.txt,.docx,.doc,.xls,.xlsx,.csv"}};class bn extends o.a.Component{constructor(e){super(e),this.upload=e=>{this.setState({showLoader:!0});const t=new ve.a,a=new FormData;a.append("file",e.target.files[0],e.target.files[0].name),t.upload(a).then(e=>{let{data:t}=e;this.setState({showLoader:!1}),Rt(t,"",null,!0).then()}).catch(e=>{"Failed to fetch"===e.message&&this.sendErrorMessage(),this.setState({showLoader:!1}),console.log(e)})},this.sendErrorMessage=()=>{let e=U.a.getState().environment.activeQuestion;const t=Object(ie.a)(),a=e.message.error||"File size limit exceeded. Please upload a file smaller than 10MB.";U.a.dispatch(Object(F.d)({label:a,position:"left",type:"STATEMENT",mid:t})),ee("message",{mid:t,text:a,messageBy:"bot"}),Object(te.e)({type:"message",text:a,messagedBy:"bot",isErrorMessage:!0,questionType:((null===e||void 0===e?void 0:e.type)||"").toLowerCase(),questionId:null===e||void 0===e?void 0:e.id,mid:t}).then().catch(),Object(H.l)(),Object(H.b)()},this.state={showLoader:!1}}render(){const{classes:e,text:t}=this.props;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ua,{avatar:this.props.avatar,text:t||"Upload a file"}),o.a.createElement("div",{style:{marginLeft:40},className:e.container},this.state.showLoader?o.a.createElement(hn.a,{value:50,size:50,className:e.loader}):o.a.createElement(Wt.a,{className:e.formControl,variant:"outlined"},o.a.createElement(Qt.a,{ref:e=>{this.labelRef=An.a.findDOMNode(e)},htmlFor:"component-outlined"}),o.a.createElement(gn.a,{title:"Upload a file",type:"file",id:"component-outlined",value:this.state.name,accept:vn(),onChange:e=>this.upload(e),labelWidth:this.labelRef?this.labelRef.offsetWidth:0}))))}}var yn=Object(c.b)(e=>({design:e.design}),{})(Object(l.a)(e=>({container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1)},loader:{margin:10}}))(bn)),fn=a(368),wn=a.n(fn);const En=Object(b.a)({textCenter:{textAlign:"center"},contentCenter:{width:"100%",margin:"0 auto"},content:{marginTop:"0",color:"#999",fontSize:"14px",textAlign:"center"},contentCenterFlex:{display:"flex",justifyContent:"center",alignItems:"center"},divider:{borderBottom:"1px solid #cccccc80",width:"35%"},name:{fontSize:"13px",color:"#666666",textAlign:"center",marginBottom:"5px",fontWeight:"bold",textTransform:"capitalize"},img:{width:"45px",borderRadius:"50%"},mb_20:{marginBottom:"20px",marginTop:"5px"}});function On(e){const t=En();return o.a.createElement("div",{className:t.contentCenter},o.a.createElement("div",{className:t.contentCenterFlex},o.a.createElement(y.a,{src:e.picture,style:{backgroundColor:"#f3f4f5"}},o.a.createElement(wn.a,{style:{fill:"#999"}}))),o.a.createElement("div",{className:"".concat(t.contentCenterFlex," ").concat(t.mb_20)},o.a.createElement("div",{className:t.divider}),o.a.createElement("div",{style:{padding:"0px 20px"}},o.a.createElement("div",{className:t.name},(e=>{if(e&&(null===e||void 0===e?void 0:e.includes("@"))){return String(e).split("@")[0]}return e||"User"})(e.userName)||"User"),o.a.createElement("div",{className:t.content},e.text)),o.a.createElement("div",{className:t.divider})))}const Cn=U.a.getState().design;var Sn=function(e,t){var a;switch(Object(H.l)(),e.type.toUpperCase()){case"STATEMENT":return o.a.createElement(ua,{mid:e.mid,key:t,text:e.label,position:e.position,avatar:Cn.avatar,shouldFeedbackVisible:e.shouldFeedbackVisible,hasClickedThumbsUp:e.hasClickedThumbsUp,hasClickedThumbsDown:e.hasClickedThumbsDown});case"NAME":case"QUESTION":case"EMAIL":case"PHONE":return o.a.createElement(ua,{key:t,text:e.label,position:e.position,avatar:Cn.avatar});case"LOCATION":return o.a.createElement(ua,{dd:t,key:t,text:e.label,position:e.position,avatar:Cn.avatar});case"NUMBER":return o.a.createElement(ua,{key:t,text:e.label,position:e.position,avatar:Cn.avatar});case"BUTTON":return o.a.createElement(ma,{key:t,text:e.label,buttons:e.options,avatar:Cn.avatar,activeQuestion:e});case"MULTI_SELECT":return o.a.createElement(ga,{key:t,text:e.label,buttons:e.options,avatar:Cn.avatar});case"RATING":return o.a.createElement(sn,{key:t,text:e.label,buttons:e.options.map(e=>e.value),avatar:Cn.avatar});case"RANGE":return o.a.createElement(ba,{key:t,text:e.label,max:parseInt(String(e.maxRange),10),min:parseInt(String(e.minRange),10),pre:e.rangePrefix,post:e.rangeSuffix,step:parseInt(String(e.rangeStep),10),avatar:Cn.avatar});case"FILE":return o.a.createElement(yn,{key:t,text:e.label,avatar:Cn.avatar});case"IMAGE":return o.a.createElement(Ea,{key:t,text:e.label,image:e.source,avatar:Cn.avatar});case"DATE":return o.a.createElement(Ia,{key:t,text:e.label,avatar:Cn.avatar,time:e.showTime,availableDays:[0,1,2,3,4,5,6]});case"CONTACT":return o.a.createElement(en,{key:t,text:e.label,buttons:e.links,avatar:Cn.avatar});case"VIDEO":return o.a.createElement(nn,{key:t,text:e.label,url:e.source,avatar:Cn.avatar});case"APPOINTMENT":return o.a.createElement(Ia,{text:e.label,avatar:Cn.avatar,min:new Date,max:new Date((null===e||void 0===e||null===(a=e.appointment)||void 0===a?void 0:a.futureDays)?(new Date).setDate((new Date).getDate()+e.appointment.futureDays):(new Date).setDate((new Date).getDate()+30)),availableDays:e.appointment.availableDays.map(e=>un[e]),startTime:e.appointment.startTime,endTime:e.appointment.endTime,slotInteval:pn[e.appointment.interval]||"half",slots:!0,key:t});case"LIVE_CHAT":return o.a.createElement(ua,{key:t,text:e.label,position:e.position,avatar:Cn.avatar});case"NEW_NOTIFICATION":return o.a.createElement(ln,{key:t,text:e.label});case"LIVE_CHAT_NOTIFICATION":return o.a.createElement(dn,{key:t,text:e.text,title:e.title,color:e.color,dynamicColor:e.dynamicColor,primaryColor:e.primaryColor,secondaryColor:e.secondaryColor});case"LIVE_CHAT_ACCEPTED":return o.a.createElement(On,{key:t,text:e.label,userName:e.userName,picture:e.picture});case"SMART_QUESTION":return o.a.createElement(ua,{key:t,text:e.label,position:e.position,avatar:Cn.avatar});case"AI":return o.a.createElement(ua,{key:t,text:e.label,position:e.position,avatar:Cn.avatar,shouldFeedbackVisible:e.shouldFeedbackVisible,mid:e.mid,hasClickedThumbsUp:e.hasClickedThumbsUp,hasClickedThumbsDown:e.hasClickedThumbsDown});default:return null}};const In=Object(b.a)({center:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},title:{fontSize:"18px",color:"#333333",fontWeight:"bold",marginBottom:"5px"},caption:{fontSize:"16px",color:"#666666"},flexDirectionCol:{flexDirection:"column"},ratingBox:{marginTop:"20px",marginBottom:"20px"},ratingImg:{cursor:"pointer"},outlinedBtn:{border:"1px solid #226CF4",padding:"15px 20px",color:"#226CF4",borderRadius:"4px",background:"#fff",marginLeft:"10px",cursor:"pointer"},filledBtn:{background:"#226CF4",padding:"16px 20px",color:"#fff",borderRadius:"4px",border:"none",cursor:"pointer"}});var Tn=()=>{const e=new ve.a,t=In(),[a,n]=Object(i.useState)([!1,!1,!1,!1,!1]),[s,r]=Object(i.useState)({title:"Rate the conversation",description:"Thanks for Interacting with us!",closeButton:"Close Chat",restartButton:"Restart Chat"});Object(i.useEffect)(()=>{var e;const t=U.a.getState(),a=null===t||void 0===t||null===(e=t.configuration)||void 0===e?void 0:e.chatMenu;(null===a||void 0===a?void 0:a.isRatingEnabled)?(null===a||void 0===a?void 0:a.chatRating)&&r({title:a.chatRating.title||"Rate the conversation",description:a.chatRating.description||"Thanks for Interacting with us!",closeButton:a.chatRating.closeButton||"Close Chat",restartButton:a.chatRating.restartButton||"Restart Chat"}):l()},[]);const l=()=>{U.a.dispatch(yt({sessionClose:!1}));(new window.parent.BotPenguin).closeWindow(),localStorage.setItem("bp-user-close","true")};return o.a.createElement("div",{className:t.center},o.a.createElement("div",{className:"".concat(t.center," ").concat(t.flexDirectionCol)},o.a.createElement("div",{className:t.title},s.title),o.a.createElement("div",{className:t.caption},s.description),o.a.createElement("div",{className:t.ratingBox},a.map((a,i)=>o.a.createElement("img",{key:i,className:t.ratingImg,src:a?"https://cdn.botpenguin.com/messenger/filled_star.svg":"https://cdn.botpenguin.com/messenger/blank_star.svg",alt:"star-icon",onMouseEnter:()=>(e=>{n(t=>t.map((t,a)=>e>=a))})(i),onMouseLeave:()=>n([!1,!1,!1,!1,!1]),onClick:()=>(async t=>{try{await e.put("user/rating",{binary:Object(te.c)({uuid:localStorage.getItem("BotPenguin_User_uuid"),rating:t})}),sessionStorage.setItem("BotPenguin_rating",t),l()}catch(a){console.log({error:a}),l()}})(i+1)}))),o.a.createElement("div",null,o.a.createElement("button",{className:t.filledBtn,onClick:l},s.closeButton),o.a.createElement("button",{className:t.outlinedBtn,onClick:()=>{U.a.dispatch(yt({sessionClose:!1})),pt(!0),U.a.dispatch(Object(L.b)({selectedTags:[]}))}},s.restartButton))))};const xn=new BroadcastChannel("chat_channel");class jn extends o.a.Component{constructor(e){super(e),this.unloadHandler=()=>{sessionStorage.getItem("isLoad")&&(sessionStorage.removeItem("isLoad"),he())},this.state={currentPath:window.location.pathname,start:!1,theme:Object(s.a)({typography:{fontFamily:["custom-font"],fontWeightRegular:"600",fontWeightLight:"600"},palette:{primary:{main:"#cc1d38"},secondary:{main:"#000000"},text:{primary:"#ffffff"}}})},window.chatAreaRef=o.a.createRef()}componentDidMount(){var e,t,a,i,o,s,r,l,c,d;let u=!1;var p,m;(null===(e=this.props)||void 0===e||null===(t=e.design)||void 0===t?void 0:t.fontFamilyLink)&&Object(H.g)(null===(p=this.props)||void 0===p||null===(m=p.design)||void 0===m?void 0:m.fontFamilyLink);let A=window.parent.document.getElementById("BotPenguin-messenger");var g,h=new MutationObserver((function(e){e.forEach((function(e){Object(H.l)()}))}));A&&h.observe(A,{attributes:!0,attributeFilter:["style"]}),localStorage.setItem("questions",JSON.stringify([])),window.addEventListener("message",e=>{"BotPenguin"===e.data.origin&&"start"===e.data.action&&(u||(Object(G.a)(this.props.environment.notificationSoundSettings),u=!0),this.props.messages.length||this.state.start||(this.setState({start:!0}),et(),Z.emit("update-user-details",{configuration:Object(n.a)(Object(n.a)({},U.a.getState().configuration),{},{triggerSettings:void 0,userAccessSettings:void 0,seoSettings:void 0,name:U.a.getState().design.name}),isRevisit:!!X}),Object(te.b)()))}),localStorage.getItem("BotPenguin_User_uuid")&&(null===(a=window.parent.BotPenguinData)||void 0===a?void 0:a.uuid)!==localStorage.getItem("BotPenguin_User_uuid")&&U.a.dispatch(Object(L.b)(Object(n.a)(Object(n.a)({},U.a.getState().environment),{},{uuid:localStorage.getItem("BotPenguin_User_uuid")}))),(null===(i=window.parent.BotPenguinData)||void 0===i||null===(o=i.ai)||void 0===o||null===(s=o.chatGPT)||void 0===s?void 0:s.key)&&U.a.dispatch({type:W.d}),U.a.dispatch({type:W.m,payload:Q||window.parent.BotPenguinData.flows}),U.a.dispatch((g=(null===(r=window.parent.BotPenguinData)||void 0===r?void 0:r.revisitFlow)?null===(l=window.parent.BotPenguinData)||void 0===l?void 0:l.revisitFlow:null===(c=window.parent)||void 0===c||null===(d=c.BotPenguinData)||void 0===d?void 0:d.flows[0],{type:W.o,payload:g})),this.props.environment.isLanding&&(this.setState({start:!0}),et()),this.setState({theme:Object(n.a)(Object(n.a)({},this.state.theme),{},{palette:Object(n.a)(Object(n.a)({},this.state.theme.palette),{},{primary:{main:this.props.design.themeColor},text:Object(n.a)(Object(n.a)({},this.state.theme.palette.text),{},{primary:this.props.design.textColor})})})});document.documentElement.style.setProperty("--primary-theme-color",this.props.design.themeColor),Object(H.h)().then(e=>{var t;this.props.updateMeta(Object(n.a)(Object(n.a)(Object(n.a)({},e),Object(H.f)()),{},{location:e.city})),this.props.environment.preview||(t=Object(n.a)(Object(n.a)(Object(n.a)({},e),Object(H.f)()),{},{location:e.city,user:this.props.environment._user,uuid:this.props.environment.uuid}),Z=V.a("https://api.v7.botpenguin.com/",{path:"/ws/chatbot",transports:["websocket","polling"],query:Object(n.a)({host:window.location.hostname,url:window.location.href},t),timeout:1e4,forceNew:!0,upgrade:!0,rememberUpgrade:!0,reconnectionAttempts:15,reconnectionDelayMax:5e3}),Z.on("connected",()=>{Z.emit("update-user-details",{configuration:Object(n.a)(Object(n.a)({},U.a.getState().configuration),{},{triggerSettings:void 0,userAccessSettings:void 0,seoSettings:void 0,name:U.a.getState().design.name}),isRevisit:!!X}),localStorage.setItem("revisited","bp"),localStorage.setItem("socketDisconnected",!1),U.a.dispatch(Object(L.b)({socketDisconnected:!1}))}),Z.on("error",console.log),Z.on("message",e=>{U.a.dispatch(Object(F.d)({label:e.text,position:"left",type:"STATEMENT"})),Object(G.c)(U.a.getState().environment.notificationSoundSettings),Object(H.l)(100)}),Z.on("disconnect",(function(){console.log("socket is disconnected"),sessionStorage.getItem("isLoad")&&(sessionStorage.removeItem("isLoad"),he()),U.a.dispatch(Object(L.b)({socketDisconnected:!0})),localStorage.getItem("agentId")&&pt()})),Z.on("chat-request-accepted",e=>{localStorage.setItem("agentId",e.agentId),e.whatsappNumber.number&&e.whatsappNumber.prefix&&localStorage.setItem("bp-wsn","+".concat(e.whatsappNumber.prefix).concat(e.whatsappNumber.number)),dt(),Y&&clearTimeout(Y),U.a.dispatch(Object(L.b)({chatRequestRejected:!1,disableStartButton:!1,chatRequestAccepted:!0,agentId:e.agentId,liveChat:!0})),U.a.dispatch(z({status:!0})),U.a.dispatch(Object(F.a)({userName:e.name,picture:e.picture,label:"has joined the chat",type:"LIVE_CHAT_ACCEPTED"})),Object(H.l)(100)}),Z.on("no-agent-found",e=>{e.uuid===_.environment.uuid&&(dt(),ut(_.environment.uuid),gt("Live chat request expired"),U.a.dispatch(Object(F.b)({title:"Live chat is Unavailable!!",text:_.configuration.generalSettings.unavailabilityMessage,color:"orange",type:"LIVE_CHAT_NOTIFICATION"})),U.a.dispatch(Object(L.b)({liveChatExpired:!0,chatRequestRejected:!0,chatRequestAccepted:!1,noAgentFound:!0,liveChat:!1})),At())}),Z.on("chat-transfer-initiated",e=>{U.a.dispatch(Object(F.b)({title:"Initiating Live Chat...",text:_.configuration.generalSettings.waitingMessage,color:"blue",type:"LIVE_CHAT_NOTIFICATION"})),U.a.dispatch(z({status:!1,value:""}));const t=_.configuration.chatMenu.liveChatRequestExpiryTime||3e5;Y=setTimeout(()=>{ut(_.environment.uuid),U.a.dispatch(Object(F.b)({title:"Live chat is Unavailable!!",text:_.configuration.generalSettings.unavailabilityMessage,color:"orange",type:"LIVE_CHAT_NOTIFICATION"}))},t),Object(H.l)()}),Z.on("typing-start",e=>{localStorage.getItem("agentId")&&e===_.environment.uuid&&(U.a.dispatch(Object(L.b)({typing:!0})),Object(H.l)(100),setTimeout(()=>{U.a.dispatch(Object(L.b)({typing:!1}))},3e3))}),Z.on("typing-stop",e=>{localStorage.getItem("agentId")&&e===_.environment.uuid&&U.a.dispatch(Object(L.b)({typing:!1}))}),Z.on("chat-transferred",e=>{"BOT"===e.mode?(U.a.dispatch(Object(L.b)({liveChat:!1,agentId:void 0,chatRequestAccepted:!1,disableStartButton:!1})),localStorage.removeItem("agentId"),localStorage.removeItem("bp-wsn"),e._flow?Object(H.j)({type:"redirect",next:{target:e._flow}}).then(e=>{U.a.dispatch(J([e])),At()}).catch(e=>console.log(e)):At()):"WHATSAPP"===e.mode&&(U.a.dispatch(Object(L.b)({liveChat:!1,agentId:void 0,chatRequestAccepted:!1,disableStartButton:!1})),U.a.dispatch(Object(F.e)({label:"Your chat has been transferred to WhatsApp",type:"NEW_NOTIFICATION"})),U.a.dispatch(z({status:!1,value:""})),localStorage.removeItem("agentId"),localStorage.removeItem("bp-wsn"),Object(H.l)(100))})),Object(te.f)(Object(n.a)(Object(n.a)(Object(n.a)({},e),Object(H.f)()),{},{location:e.city,url:window.location.href})).then().catch(),window.parent.postMessage({origin:"BotPenguin",action:"rendered"},"*"),setTimeout(()=>{Object(G.b)(this.props.environment.notificationSoundSettings)},1e3)});const v=U.a.getState();v.environment.liveChat&&U.a.dispatch(z({status:!0})),Object(H.d)(v.environment._user).then(e=>{U.a.dispatch(Object(L.b)({customAttributesList:e}))}).catch(e=>{console.log("error in getAttributesList ".concat(e))}),Object(H.e)().then(e=>{U.a.dispatch(Object(L.b)({countries:e}))}).catch(e=>console.log("Error in getting countries",e)),xn.onmessage=ge,(()=>{if(!sessionStorage.getItem("isLoad")){sessionStorage.setItem("isLoad","true");let e=parseInt(localStorage.getItem("tabCount")||"0");e+=1,localStorage.setItem("tabCount",String(e))}})(),window.addEventListener("unload",this.unloadHandler)}componentWillUnmount(){this.channel&&this.channel.close(),window.removeEventListener("unload",this.handleUnload)}render(){var e,t,a,n,i,s,l,c,d;Object(H.l)();const{classes:u}=this.props,p=(null===(e=this.props.environment.whitelabel)||void 0===e?void 0:e.active)||(null===(t=this.props.environment.whitelabel)||void 0===t?void 0:t.byAgency),{hideMessengerHeader:m}=this.props.design;return o.a.createElement(r.a,{theme:this.state.theme},this.props.environment.isLanding&&m?null:o.a.createElement(wt,null),o.a.createElement("div",{ref:window.chatAreaRef,id:"chatArea",className:u.chatArea,style:{background:this.props.environment.isLanding&&(null===(a=this.props.design)||void 0===a?void 0:a.landingPageChatBackgroundColor)?null===(n=this.props.design)||void 0===n?void 0:n.landingPageChatBackgroundColor:null===(i=this.props.design)||void 0===i?void 0:i.backgroundColor,overflow:this.props.environment.dateTime?"hidden":"auto",marginTop:this.props.environment.isLanding?"0":"65px",height:this.props.environment.isLanding?"calc(100vh - 85px)":p?"calc(100vh - 122px)":"calc(100vh - 151px)"}},!(null===(s=this.props.common)||void 0===s?void 0:s.sessionClose)&&this.props.messages.map((e,t)=>Sn(e,t)),this.props.environment.typing?o.a.createElement(St,{avatar:this.props.design.avatar}):null,!(null===(l=this.props.common)||void 0===l?void 0:l.sessionClose)&&o.a.createElement(qt,null),(null===(c=this.props.common)||void 0===c?void 0:c.sessionClose)&&o.a.createElement(Tn,null)),!(null===(d=this.props.common)||void 0===d?void 0:d.sessionClose)&&o.a.createElement(ea,null))}}t.b=Object(c.b)(e=>({design:e.design,messages:e.messages,environment:e.environment,common:e.common}),{updateMeta:e=>({type:W.x,payload:e})})(Object(l.a)(()=>({chatArea:{marginTop:65,overflowY:"auto",background:"white;",marginBottom:86,position:"relative"},video:{width:"auto !important",margin:10}}))(jn))},442:function(e,t){},444:function(e,t){},475:function(e,t){},477:function(e,t){},478:function(e,t){},483:function(e,t){},485:function(e,t){},505:function(e,t){},521:function(e,t){},524:function(e,t){},552:function(e,t){},643:function(e,t){},8:function(e,t,a){"use strict";a.d(t,"q",(function(){return n})),a.d(t,"w",(function(){return i})),a.d(t,"z",(function(){return o})),a.d(t,"s",(function(){return s})),a.d(t,"A",(function(){return r})),a.d(t,"u",(function(){return l})),a.d(t,"m",(function(){return c})),a.d(t,"v",(function(){return d})),a.d(t,"x",(function(){return u})),a.d(t,"r",(function(){return p})),a.d(t,"i",(function(){return m})),a.d(t,"e",(function(){return A})),a.d(t,"d",(function(){return g})),a.d(t,"t",(function(){return h})),a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return b})),a.d(t,"f",(function(){return y})),a.d(t,"h",(function(){return f})),a.d(t,"g",(function(){return w})),a.d(t,"n",(function(){return E})),a.d(t,"l",(function(){return O})),a.d(t,"p",(function(){return C})),a.d(t,"k",(function(){return S})),a.d(t,"j",(function(){return I})),a.d(t,"y",(function(){return T})),a.d(t,"o",(function(){return x})),a.d(t,"c",(function(){return j}));const n="NEW_MESSAGE",i="UPDATE_MESSAGES",o="UPDATE_SINGLE_MESSAGES",s="RESET_MESSAGES",r="UPDATE_TEXT_INPUT",l="UPDATE_ENVIRONMENT",c="LOAD_FLOW",d="UPDATE_FLOW",u="UPDATE_META",p="NEW_NOTIFICATION",m="LIVE_CHAT_NOTIFICATION",A="AI_REPLIES",g="AI_KEY_ACTIVE",h="UPDATE_APPOINTMENT_META",v="ADD_ATTRIBUTE",b="ADD_ATTRIBUTES",y="AI_THREAD_ID",f="LIVE_CHAT_ACCEPTED",w="CLOSE_SESSION",E="LOAD_MESSAGES",O="LOAD_ENVIRONMENT",C="LOAD_TEXT_INPUT",S="LOAD_APPOINTMENT_META",I="LOAD_AI_REPLIES",T="UPDATE_REDIRECT_FLOW",x="LOAD_REVISIT_FLOW",j="AI_INITIALIZE"},97:function(e,t,a){"use strict";a.d(t,"a",(function(){return T})),a.d(t,"b",(function(){return x})),a.d(t,"c",(function(){return j}));var n=a(332),i=a.n(n),o=a(333),s=a.n(o),r=a(334),l=a.n(r),c=a(335),d=a.n(c),u=a(336),p=a.n(u),m=a(337),A=a.n(m),g=a(338),h=a.n(g),v=a(339),b=a.n(v),y=a(340),f=a.n(y),w=a(341),E=a.n(w),O=a(342),C=a.n(O),S=a(343),I=a.n(S);const T=e=>{"none"!==e.onBotAppearance&&N(e.onBotAppearance)},x=e=>{const t=e.onLauncherIconAppearance;t&&"none"!==t&&N(t)},j=e=>{"none"!==e.onChatWindow&&"hidden"===document.visibilityState&&N(e.onChatWindow)},N=e=>{let t=R(e);new Audio(t).play().catch(e=>console.log("Error while play sound: ".concat(e)))},R=e=>{let t="";switch(e){case"long-pop":t=i.a;break;case"bottle":t=s.a;break;case"mouth-pops":t=l.a;break;case"selection-sounds":t=d.a;break;case"tap-notification":t=p.a;break;case"ui-popup":t=A.a;break;case"achievement-bell":t=h.a;break;case"beep":t=b.a;break;case"computer-wav":t=f.a;break;case"correct-answer-tone":t=E.a;break;case"multi-pop":t=C.a;break;case"software-interface-start":t=I.a;break;default:t=""}return t}}},[[388,15,16]]]);